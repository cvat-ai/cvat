<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.110.0">
<link rel="canonical" type="text/html" href="https://docs.cvat.ai/docs/manual/advanced/annotation-with-polygons/">
<meta name="robots" content="noindex, nofollow">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>Annotation with polygons | CVAT</title>
<meta name="description" content="Guide to creating and editing polygons.">
<meta property="og:title" content="Annotation with polygons" />
<meta property="og:description" content="Guide to creating and editing polygons." />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.cvat.ai/docs/manual/advanced/annotation-with-polygons/" /><meta property="og:site_name" content="CVAT" />
<meta itemprop="name" content="Annotation with polygons">
<meta itemprop="description" content="Guide to creating and editing polygons."><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Annotation with polygons"/>
<meta name="twitter:description" content="Guide to creating and editing polygons."/>




<link rel="preload" href="/scss/main.min.37be0c9688b36e147df1a601cb07a82cad24a8052241ae5d7908be2901eafc49.css" as="style">
<link href="/scss/main.min.37be0c9688b36e147df1a601cb07a82cad24a8052241ae5d7908be2901eafc49.css" rel="stylesheet" integrity="">

<script
  src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"
  integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ=="
  crossorigin="anonymous"></script>
<script defer
  src="https://unpkg.com/lunr@2.3.9/lunr.min.js"
  integrity="sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli"
  crossorigin="anonymous"></script>
<link rel="stylesheet" href="/css/prism.css"/>

  </head>
  <body class="td-section">
    <header>
      <nav class="td-navbar navbar-dark js-navbar-scroll">
<div class="container-fluid flex-column flex-md-row">
  <a class="navbar-brand" href="https://www.cvat.ai/"><span class="navbar-brand__logo navbar-logo"><svg width="80" height="15" viewBox="0 0 80 15" xmlns="http://www.w3.org/2000/svg"><path d="M6.63399 15C2.37083 15 0 12.5333.0 7.48889.0 2.46667 2.34908.0 6.63399.0H10.6576V2.62222H6.63399c-2.84935.0-4.0674 1.44445-4.0674 4.86667.0 3.44441 1.2398 4.88891 4.0674 4.88891H15.0638V15H6.63399z"/><path d="M22.412.0l4.8346 13.1004C27.7814 14.5415 28.8724 15 30.2842 15 31.7817 15 32.7657 14.476 33.3005 13.1004L38.3918.0H35.5895L30.9902 11.8559C30.8404 12.2052 30.6265 12.3581 30.2842 12.3581 29.942 12.3581 29.7067 12.2052 29.5783 11.8559L25.1929.0H22.412z"/><path d="M53.0989 3.1441C53.2487 2.79476 53.484 2.64192 53.8262 2.64192 54.1685 2.64192 54.4038 2.79476 54.5322 3.1441L58.9176 15h2.8023L56.8425 1.89956C56.3291.524017 55.3451.0 53.8476.0 52.3288.0 51.3448.524017 50.81 1.89956L45.74 15h2.781L53.0989 3.1441z"/><path d="M69.0681.0V2.5665H73.2661V15H75.802V2.5665H80V0H69.0681z"/></svg></span></a>
  <div class="td-navbar-nav-scroll ms-md-auto" style="height: auto;" id="main_navbar">
    <ul class="navbar-nav d-flex flex-wrap" style="padding-bottom: 0;">
      <li class="nav-item">
        <a class="nav-link active" href="/docs/"><span>Documentation</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://www.cvat.ai/about" rel="noopener"><span>About</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://app.cvat.ai" rel="noopener"><span>Try it now</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://github.com/cvat-ai/cvat" rel="noopener"><i class='fab fa-github'></i><span>GitHub</span></a>
      </li>
      <li class="nav-item dropdown d-none d-lg-block">
        <div class="dropdown">
  <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">develop</a>
  <ul class="dropdown-menu">
    <li><a class="dropdown-item" href="/">Latest version</a></li>
    <li><a class="dropdown-item" href="/v2.46.1">v2.46.1</a></li>
    <li><a class="dropdown-item" href="/v2.45.0">v2.45.0</a></li>
    <li><a class="dropdown-item" href="/v2.44.3">v2.44.3</a></li>
    <li><a class="dropdown-item" href="/v2.43.0">v2.43.0</a></li>
    <li><a class="dropdown-item" href="/v2.42.0">v2.42.0</a></li>
    <li><a class="dropdown-item" href="/v2.41.0">v2.41.0</a></li>
    </ul>
</div></li>
      </ul>
  </div>
  <div class="d-none d-lg-block">
    <div class="td-search td-search--offline">
  <div class="td-search__icon"></div>
  <input
    type="search"
    class="td-search__input form-control"
    placeholder="Search this site…"
    aria-label="Search this site…"
    autocomplete="off"
    
    data-offline-search-index-json-src="/offline-search-index.e9b442afc61aa1f782b40e88bd73b4de.json"
    data-offline-search-base-href="/"
    data-offline-search-max-results="10"
  >
</div>

  </div>
</div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <main class="col-12 col-md-9 col-xl-8 ps-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This is the multi-page printable view of this section.
<a href="#" onclick="print();return false;">Click here to print</a>.
</p><p>
<a href="/docs/manual/advanced/annotation-with-polygons/">Return to the regular view of this page</a>.
</p>
</div>



<h1 class="title">Annotation with polygons</h1>
<div class="lead">Guide to creating and editing polygons.</div>




    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-4d4bf5bacfbd5eb9dcef94a38c91930f">Manual drawing</a></li>


    
  
    
    
	
<li>2: <a href="#pg-49a42ac9fb14c261fcb4d6df121ec6b5">Drawing using automatic borders</a></li>


    
  
    
    
	
<li>3: <a href="#pg-f59490f3517703af487d1db1d573c2cf">Edit polygon</a></li>


    
  
    
    
	
<li>4: <a href="#pg-1f4fe1a1fe6fe79b065945412ca4d774">Track mode with polygons</a></li>


    
  
    
    
	
<li>5: <a href="#pg-c692762faa73de2bce0ebde15b8e137b">Creating masks</a></li>


    
  

    </ul>


<div class="content">
      
</div>
</div>


  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-4d4bf5bacfbd5eb9dcef94a38c91930f">1 - Manual drawing</h1>
    
	<p>It is used for semantic / instance segmentation.</p>
<p>Before starting, you need to select <code>Polygon</code> on the controls sidebar and choose the correct Label.</p>
<p><img src="/images/image084.jpg" alt="Highlighted &amp;ldquo;Polygon&amp;rdquo; button and open &amp;ldquo;Draw new polygon&amp;rdquo; window"></p>
<ul>
<li>Click <code>Shape</code> to enter drawing mode.
There are two ways to draw a polygon: either create points by clicking or
by dragging the mouse on the screen while holding <code>Shift</code>.</li>
</ul>
<table>
<thead>
<tr>
<th>Clicking points</th>
<th>Holding Shift+Dragging</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="/images/gif005_detrac.gif" alt="Example of creating a polygon by clicking points"></td>
<td><img src="/images/gif006_detrac.gif" alt="Example of creating a polygon by dragging with mouse"></td>
</tr>
</tbody>
</table>
<ul>
<li>When <code>Shift</code> isn&rsquo;t pressed, you can zoom in/out (when scrolling the mouse
wheel) and move (when clicking the mouse wheel and moving the mouse), you can also
delete the previous point by right-clicking on it.</li>
<li>You can use the <code>Selected opacity</code> slider in the <code>Objects sidebar</code> to change the opacity of the polygon.
You can read more in the
<a href="/docs/manual/basics/cvat-annotation-interface/objects-sidebar/#appearance">Objects sidebar</a> section.</li>
<li>Press <code>N</code> again or click the <code>Done</code> button on the top panel for completing the shape.</li>
<li>After creating the polygon, you can move the points or delete them by right-clicking and selecting <code>Delete point</code>
or clicking with pressed <code>Alt</code> key in the context menu.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-49a42ac9fb14c261fcb4d6df121ec6b5">2 - Drawing using automatic borders</h1>
    
	<p><img src="/images/gif025_mapillary_vistas.gif" alt="Example of annotation made with polygon and automatic borders option"></p>
<p>You can use auto borders when drawing a polygon. Using automatic borders allows you to automatically trace
the outline of polygons existing in the annotation.</p>
<ul>
<li>
<p>To do this, go to settings -&gt; workspace tab and enable <code>Automatic Bordering</code>
or press <code>Ctrl</code> while drawing a polygon.</p>
<p><img src="/images/image161.jpg" alt="&amp;ldquo;Workspace&amp;rdquo; tab in &amp;ldquo;Settings&amp;rdquo; and highlighted &amp;ldquo;Automatic bordering&amp;rdquo; setting"></p>
</li>
<li>
<p>Start drawing / editing a polygon.</p>
</li>
<li>
<p>Points of other shapes will be highlighted, which means that the polygon can be attached to them.</p>
</li>
<li>
<p>Define the part of the polygon path that you want to repeat.</p>
<p><img src="/images/image157_mapillary_vistas.jpg" alt="Annotation with highlighted part for repetition"></p>
</li>
<li>
<p>Click on the first point of the contour part.</p>
<p><img src="/images/image158_mapillary_vistas.jpg" alt="Annotation with first contour point highlighted"></p>
</li>
<li>
<p>Then click on any point located on part of the path. The selected point will be highlighted in purple.</p>
<p><img src="/images/image159_mapillary_vistas.jpg" alt="Annotation with highlighted middle point"></p>
</li>
<li>
<p>Click on the last point and the outline to this point will be built automatically.</p>
<p><img src="/images/image160_mapillary_vistas.jpg" alt="Annotation with last contour point highlighted"></p>
</li>
</ul>
<p>Besides, you can set a fixed number of points in the <code>Number of points</code> field, then
drawing will be stopped automatically. To enable dragging you should right-click
inside the polygon and choose <code>Switch pinned property</code>.</p>
<p>Below you can see results with opacity and black stroke:</p>
<p><img src="/images/image064_mapillary_vistas.jpg" alt="Example of annotation with applied opacity and black stroke"></p>
<p>If you need to annotate small objects, increase <code>Image Quality</code> to
<code>95</code> in <code>Create task</code> dialog for your convenience.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f59490f3517703af487d1db1d573c2cf">3 - Edit polygon</h1>
    
	<p>To edit a polygon you have to click on it while holding <code>Shift</code>, it will open the polygon editor.</p>
<ul>
<li>
<p>In the editor you can create new points or delete part of a polygon by closing the line on another point.</p>
</li>
<li>
<p>When <code>Intelligent polygon cropping</code> option is activated in the settings,
CVAT considers two criteria to decide which part of a polygon should be cut off during automatic editing.</p>
<ul>
<li>The first criteria is a number of cut points.</li>
<li>The second criteria is a length of a cut curve.</li>
</ul>
<p>If both criteria recommend to cut the same part, algorithm works automatically,
and if not, a user has to make the decision.
If you want to choose manually which part of a polygon should be cut off,
disable <code>Intelligent polygon cropping</code> in the settings.
In this case after closing the polygon, you can select the part of the polygon you want to leave.</p>
<p><img src="/images/image209.jpg" alt="Setting for Intelligent polygon cropping"></p>
</li>
<li>
<p>You can press <code>Esc</code> to cancel editing.</p>
<p><img src="/images/gif007_mapillary_vistas.gif" alt="Example of editing a polygon shape and canceling editing"></p>
</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-1f4fe1a1fe6fe79b065945412ca4d774">4 - Track mode with polygons</h1>
    
	<p>Polygons in the track mode allow you to mark moving objects more accurately other than using a rectangle
(<a href="/docs/manual/basics/track-mode-basics/">Tracking mode (basic)</a>;
<a href="/docs/manual/advanced/track-mode-advanced/">Tracking mode (advanced)</a>).</p>
<ol>
<li>
<p>To create a polygon in the track mode, click the <code>Track</code> button.</p>
<p><img src="/images/image184.jpg" alt="Open &amp;ldquo;Draw new polygon&amp;rdquo; window with highlighted &amp;ldquo;Track&amp;rdquo; button"></p>
</li>
<li>
<p>Create a polygon the same way as in the case of
<a href="/docs/manual/advanced/annotation-with-polygons/">Annotation with polygons</a>.
Press <code>N</code> or click the <code>Done</code> button on the top panel to complete the polygon.</p>
</li>
<li>
<p>Pay attention to the fact that the created polygon has a starting point and a direction,
these elements are important for annotation of the following frames.</p>
</li>
<li>
<p>After going a few frames forward press <code>Shift+N</code>, the old polygon will disappear and you can create a new polygon.
The new starting point should match the starting point of the previously created polygon
(in this example, the top of the left mirror). The direction must also match (in this example, clockwise).
After creating the polygon, press <code>N</code> and the intermediate frames will be interpolated automatically.</p>
<p><img src="/images/image185_detrac.jpg" alt="Several images demonstrating creation of a keyframe for interpolation"></p>
</li>
<li>
<p>If you need to change the starting point, right-click on the desired point and select <code>Set starting point</code>.
To change the direction, right-click on the desired point and select switch orientation.</p>
<p><img src="/images/image186_detrac.jpg" alt="Part of annotation with open menu for a point and highlighted &amp;ldquo;Set starting point&amp;rdquo;"></p>
</li>
</ol>
<p>There is no need to redraw the polygon every time using <code>Shift+N</code>,
instead you can simply move the points or edit a part of the polygon by pressing <code>Shift+Click</code>.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c692762faa73de2bce0ebde15b8e137b">5 - Creating masks</h1>
    
	<h3 id="cutting-holes-in-polygons">Cutting holes in polygons</h3>
<p>Currently, CVAT does not support cutting transparent holes in polygons. However,
it is possible to generate holes in exported instance and class masks.
To do this, one needs to define a background class in the task and draw holes
with it as additional shapes above the shapes needed to have holes:</p>
<p>The editor window:</p>
<p><img src="/images/mask_export_example1_editor.png" alt="The editor"></p>
<p>Remember to use z-axis ordering for shapes by [-] and [+, =] keys.</p>
<p>Exported masks:</p>
<p><img src="/images/mask_export_example1_cls_mask.png" alt="A class mask">  <img src="/images/mask_export_example1_inst_mask.png" alt="An instance mask"></p>
<p>Notice that it is currently impossible to have a single instance number for
internal shapes (they will be merged into the largest one and then covered by
&ldquo;holes&rdquo;).</p>
<h3 id="creating-masks">Creating masks</h3>
<p>There are several formats in CVAT that can be used to export masks:</p>
<ul>
<li><code>Segmentation Mask</code> (PASCAL VOC masks)</li>
<li><code>CamVid</code></li>
<li><code>MOTS</code></li>
<li><code>ICDAR</code></li>
<li><code>COCO</code> (RLE-encoded instance masks, <a href="/docs/manual/advanced/formats/format-coco/">guide</a>)</li>
<li><code>Datumaro</code></li>
</ul>
<p>An example of exported masks (in the <code>Segmentation Mask</code> format):</p>
<p><img src="/images/exported_cls_masks_example.png" alt="A class mask"> <img src="/images/exported_inst_masks_example.png" alt="An instance mask"></p>
<p>Important notices:</p>
<ul>
<li>Both boxes and polygons are converted into masks</li>
<li>Grouped objects are considered as a single instance and exported as a single
mask (label and attributes are taken from the largest object in the group)</li>
</ul>
<h4 id="class-colors">Class colors</h4>
<p>All the labels have associated colors, which are used in the generated masks.
These colors can be changed in the task label properties:</p>
<p><img src="/images/label_color_picker.jpg" alt="Task label properties with color picker"></p>
<p>Label colors are also displayed in the annotation window on the right panel,
where you can show or hide specific labels
(only the presented labels are displayed):</p>
<p><img src="/images/label_panel_anno_window.jpg" alt="Label tab with label colors open in annotation window"></p>
<p>A background class can be:</p>
<ul>
<li>A default class, which is implicitly-added, of black color (RGB 0, 0, 0)</li>
<li><code>background</code> class with any color (has a priority, name is case-insensitive)</li>
<li>Any class of black color (RGB 0, 0, 0)</li>
</ul>
<p>To change background color in generated masks (default is black),
change <code>background</code> class color to the desired one.</p>

</div>



    
	
  



          </main>
        </div>
      </div>
      <footer class="bg-dark py-5 row d-print-none" style="min-height: 0">
  <div class="container-fluid">
    <div class="row">
      <div class="col text-center">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-bs-toggle="tooltip" data-placement="top" title="Gitter public chat" aria-label="Gitter public chat">
    <a class="text-white" rel="noopener noreferrer" href="https://gitter.im/opencv-cvat/public">
      <i class="fab fa-gitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-bs-toggle="tooltip" data-placement="top" title="Stack Overflow" aria-label="Stack Overflow">
    <a class="text-white" rel="noopener noreferrer" href="https://stackoverflow.com/search?q=%23cvat">
      <i class="fab fa-stack-overflow"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-bs-toggle="tooltip" data-placement="top" title="YouTube" aria-label="YouTube">
    <a class="text-white" rel="noopener noreferrer" href="https://www.youtube.com/@cvat-ai">
      <i class="fab fa-youtube"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-4 text-center">
        <div class="row">
          <a href="https://www.cvat.ai/privacy">Privacy Policy</a>
        </div>
        <div class="row">
          <a href="https://www.cvat.ai/terms-of-use">Terms of Use</a>
        </div>
        <div class="row">
          <a href="#" onclick="showCookieSettings(); return false;">Cookie Settings</a>
        </div>
        <div class="row">
          
        </div>
      </div>
      <div class="col text-right text-center">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-bs-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" rel="noopener noreferrer" href="https://github.com/cvat-ai/cvat">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-bs-toggle="tooltip" data-placement="top" title="Gitter developers chat" aria-label="Gitter developers chat">
    <a class="text-white" rel="noopener noreferrer" href="https://gitter.im/opencv-cvat/dev">
      <i class="fab fa-gitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-bs-toggle="tooltip" data-placement="top" title="Discord chat" aria-label="Discord chat">
    <a class="text-white" rel="noopener noreferrer" href="https://discord.gg/fNR3eXfk6C">
      <i class="fab fa-discord"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
    </div>
  </div>
  


<div id="cookie-consent-banner">
  <p>
    We use Google Analytics cookies to improve functionality and analyze traffic. You can change your preference at any time using the "Cookie Settings" link in the footer.
  </p>
  <div class="button-group">
    <button onclick="acceptCookies()">Accept</button>
    <button class="reject" onclick="rejectCookies()">Reject</button>
  </div>
</div>


<script>
window.GOOGLE_TAG_ID = 'G-GVSBK1DNK5';
</script>


<script defer src="/js/cookie-consent.min.93cb75ea0d8a602f1db231ed823839f4fc4c6fbfe6d98e78c702dbdf32e8ce95.js" integrity="sha256-k8t16g2KYC8dsjHtgjg59PxMb7/m2Y54xwLb3zLozpU=" crossorigin="anonymous"></script>

</footer>



    </div>
    
  <script src="/js/main.min.99abe30f7fb05785a480d405ee1665ebd520cec6bbadffe966b7737e103675b8.js" integrity="sha256-mavjD3&#43;wV4WkgNQF7hZl69Ugzsa7rf/pZrdzfhA2dbg=" crossorigin="anonymous"></script>
<script src='/js/prism.js'></script>
<script src='/js/tabpane-persist.js'></script>

  </body>
</html>
