# 后端未汉化消息统计

> 统计时间: 2026-01-06
> 目的: 汉化后端返回给前端的交互消息（错误提示、验证消息等）
> 状态: ✅ 已完成

## 模块分布概览

| 模块 | 文件数 | 消息数(约) | 状态 |
|------|--------|-----------|------|
| engine | 14 | ~90 | ✅ 已完成 |
| iam | 2 | 2 | ✅ 已完成 |
| webhooks | 1 | 2 | ✅ 已完成 |
| quality_control | 2 | 5 | ✅ 已完成 |
| lambda_manager | 1 | 2 | ✅ 已完成 |
| redis_handler | 2 | 4 | ✅ 已完成 |
| events | 1 | 1 | ✅ 已完成 |
| consensus | 2 | 6 | ✅ 已完成 |
| dataset_manager | 1 | 待确认 | ✅ 已完成 |
| **总计** | **26** | **~112** | ✅ |

## 子代理分配方案（3个子代理）

### 子代理1: engine 模块
负责文件（14个）:
- `cvat/apps/engine/views.py`
- `cvat/apps/engine/serializers.py`
- `cvat/apps/engine/task.py`
- `cvat/apps/engine/backup.py`
- `cvat/apps/engine/background.py`
- `cvat/apps/engine/permissions.py`
- `cvat/apps/engine/field_validation.py`
- `cvat/apps/engine/cloud_provider.py`
- `cvat/apps/engine/cache.py`
- `cvat/apps/engine/frame_provider.py`
- `cvat/apps/engine/media_extractors.py`
- `cvat/apps/engine/tus.py`
- `cvat/apps/engine/models.py`
- `cvat/apps/engine/filters.py`

### 子代理2: iam + webhooks + quality_control + lambda_manager
负责文件（6个）:
- `cvat/apps/iam/serializers.py`
- `cvat/apps/iam/permissions.py`
- `cvat/apps/webhooks/serializers.py`
- `cvat/apps/quality_control/quality_reports.py`
- `cvat/apps/quality_control/models.py`
- `cvat/apps/lambda_manager/views.py`

### 子代理3: redis_handler + events + consensus + dataset_manager
负责文件（6个）:
- `cvat/apps/redis_handler/views.py`
- `cvat/apps/redis_handler/background.py`
- `cvat/apps/events/export.py`
- `cvat/apps/consensus/views.py`
- `cvat/apps/consensus/permissions.py`
- `cvat/apps/dataset_manager/task.py`

---

## 详细消息列表

### 1. engine 模块

#### views.py
| 行号 | 原文 | 类型 |
|------|------|------|
| 431 | `'Unknown upload was finished'` | Response |
| 496 | `'Project image preview not found'` | HttpResponseNotFound |
| 533 | `'Data type not specified or has wrong value'` | ValidationError |
| 536 | `'Number is not specified'` | ValidationError |
| 538 | `'Wrong quality value'` | ValidationError |
| 648 | `'Data type not specified or has wrong value'` | ValidationError |
| 652 | `'Number or Index is not specified'` | ValidationError |
| 654 | `'Number and Index cannot be used together'` | ValidationError |
| 656 | `'Number is not specified'` | ValidationError |
| 658 | `'Wrong quality value'` | ValidationError |
| 1139 | `'Unknown upload was finished'` | Response |
| 1274 | `'Adding more data is not supported'` | Response |
| 1512 | `'Task image preview not found'` | HttpResponseNotFound |
| 1713 | `"Only ground truth jobs can be removed"` | ValidationError |
| 1740 | `'Unknown upload was finished'` | Response |
| 2561 | `'Unsupported type of cloud provider'` | ValidationError |
| 2657 | `"An internal error has occurred"` | Response |
| 2677 | `'Cloud storage preview not found'` | HttpResponseNotFound |
| 2698 | `"An internal error has occurred"` | Response |
| 2801 | `"Maximum number of assets per guide reached"` | ValidationError |

#### serializers.py
| 行号 | 原文 | 类型 |
|------|------|------|
| 268 | `"Invalid organization id"` | ValidationError |
| 451 | `'Deleted label must have an ID'` | ValidationError |
| 461 | `"Duplicate attribute with name '{name}' exists"` | ValidationError |
| 940 | `"Unexpected job type '{type}'"` | ValidationError |
| 1033 | `"Frames must not repeat"` | ValidationError |
| 1591 | `"Validation is not configured in the task"` | ValidationError |
| 2117 | `"Frames must not repeat"` | ValidationError |
| 2266 | `"Invalid frame filter expression"` | ValidationError |
| 2272 | `'Chunk size must be a positive integer'` | ValidationError |
| 2294 | `'Stop frame must be more or equal start frame'` | ValidationError |
| 2301 | `'The filename_pattern can only be used with specified manifest or without server_files'` | ValidationError |
| 2304 | `'The filename_pattern and server_files_exclude cannot be used together'` | ValidationError |
| 2517 | `'Task must have only one of Label set or project_id'` | ValidationError |
| 2524 | `'The specified project #{id} does not exist.'` | ValidationError |
| 2527 | `'The task and its project should be in the same organization.'` | ValidationError |
| 2596 | `'Dimension ({dim}) of the task must be the same as other tasks in project ({dim})'` | ValidationError |
| 2613 | `'Target project does not have label with name "{name}"'` | ValidationError |
| 2620 | `'Target project does not have...'` | ValidationError |
| 2698 | `"A task cannot be moved into a project and into an organization at the same time"` | ValidationError |
| 2700 | `"Only top-level resources can be moved between workspaces"` | ValidationError |
| 2713 | `'Cannot find project with ID {id}'` | ValidationError |
| 2749 | `'All task or project label names must be mapped to the target project'` | ValidationError |
| 2753 | `'All task or project label names must be mapped to the target project'` | ValidationError |
| 3043 | `"Deleted frames cannot repeat"` | ValidationError |
| 3102 | `"Frames {} do not belong to the job"` | ValidationError |
| 3228 | `'Value must be a float or an integer'` | ValidationError |
| 3387 | `'Dataset file should be zip archive'` | ValidationError |
| 3572 | `'Invalid specific attributes'` | ValidationError |
| 3579 | `'Account name or connection string for Azure container was not specified'` | ValidationError |
| 3605 | `'Prefix cannot start with forward slash ("/").'` | ValidationError |
| 3607 | `'Prefix cannot contain multiple slashes in a row.'` | ValidationError |
| 3862 | `'The specified cloud storage {id} does not exist.'` | ValidationError |
| 3883 | `"Invalid asset_file type. Expected an UploadedFile instance."` | ValidationError |
| 3886 | `"Maximum size of asset is {size} MB"` | ValidationError |
| 3889 | `"File is not supported as an asset. Supported are {types}"` | ValidationError |
| 3948 | `'One of project_id or task_id must be specified'` | ValidationError |
| 3950 | `'Both project_id and task_id must not be specified'` | ValidationError |
| 3958 | `'The specified project #{id} does not exist.'` | ValidationError |
| 3964 | `'The specified task #{id} does not exist.'` | ValidationError |

#### task.py
| 行号 | 原文 | 类型 |
|------|------|------|
| 358 | `"Validation frame count per job cannot be greater than segment size"` | ValidationError |
| 396 | `'Only one manifest file can be attached to data'` | ValidationError |
| 410 | `'Invalid manifest was uploaded'` | ValidationError |
| 533 | `'There is no intersection of the files specified...'` | ValidationError |
| 757 | `"Job mapping file {f} is not specified in input files"` | ValidationError |
| 852 | `"It isn't supported to upload manifest file and use random sorting"` | ValidationError |
| 869 | `'Combined data types are not supported'` | ValidationError |
| 889 | `"Can't create a task without data"` | ValidationError |
| 1058 | `"No key frames found in the manifest"` | ValidationError |
| 1151 | `'Incorrect file mapping to manifest content'` | ValidationError |
| 1239 | `"The number of validation frames is not specified"` | ValidationError |
| 1256 | `"Unknown validation frames requested: {}"` | ValidationError |
| 1286 | `"The number of validation frames is not specified"` | ValidationError |
| 1444 | `"The number of validation frames is not specified"` | ValidationError |
| 1459 | `"The number of validation frames is not specified"` | ValidationError |
| 1501 | `"Unknown validation frames requested: {}"` | ValidationError |

#### backup.py
| 行号 | 原文 | 类型 |
|------|------|------|
| 127 | `"Maximum number of assets per guide reached"` | ValidationError |
| 130 | `"Maximum size of asset is {size} MB"` | ValidationError |
| 401 | `"Such a {name} does not exist"` | ValidationError |
| 989 | `"Can't find any GT jobs info in the backup files"` | ValidationError |
| 991 | `"A task can have only one GT job info in the backup files"` | ValidationError |
| 998 | `"GT job frames do not match validation frames"` | ValidationError |
| 1002 | `"Expected segment info in the backup files"` | ValidationError |
| 1048 | `"Expected {filename} in backup files"` | ValidationError |
| 1061 | `"Unexpected storage type in the backup files"` | ValidationError |
| 1090 | `"Unexpected job type {type}"` | ValidationError |

#### background.py
| 行号 | 原文 | 类型 |
|------|------|------|
| 98 | `"Unknown format specified for the request"` | ValidationError |
| 212 | `"Backup of a task without data is not allowed"` | ValidationError |
| 332 | `"The filename was not specified"` | ValidationError |
| 344 | `"No such file were uploaded"` | ValidationError |
| 466 | `"Unknown input format {format}"` | ValidationError |

#### permissions.py
| 行号 | 原文 | 类型 |
|------|------|------|
| 80 | `"Unexpected request id format"` | ValidationError |
| 82 | `"Missing request id in the query parameters"` | ValidationError |
| 308 | `"Invalid org id"` | ValidationError |
| 551 | `"Invalid org id"` | ValidationError |

#### field_validation.py
| 行号 | 原文 | 类型 |
|------|------|------|
| 19 | `"One of the fields {options} required"` | ValidationError |
| 21 | `"Only 1 of the fields {options} can be used"` | ValidationError |
| 26 | `'The "{key}" field is required'` | ValidationError |
| 45 | `"Value must be in the range [0; 1]"` | ValidationError |

#### cloud_provider.py
| 行号 | 原文 | 类型 |
|------|------|------|
| 213 | `"Incorrect bytes range was received: {start}-{stop}"` | ValidationError |
| 751 | `"The {key} file is empty."` | ValidationError |

#### cache.py
| 行号 | 原文 | 类型 |
|------|------|------|
| 1012 | `"Cannot get the cloud storage preview. There is no manifest file"` | ValidationError |

#### frame_provider.py
| 行号 | 原文 | 类型 |
|------|------|------|
| 409 | `"Task has no data"` | ValidationError |
| 541 | `"Incorrect requested frame number: {frame_number}"` | ValidationError |

#### media_extractors.py
| 行号 | 原文 | 类型 |
|------|------|------|
| 1236 | `"Could not read pcd file '{file}': {e}"` | ValidationError |
| 1243 | `"Could not read pcd file '{file}': {e}"` | ValidationError |

#### tus.py
| 行号 | 原文 | 类型 |
|------|------|------|
| 46 | `"Content-Length header is missing"` | ValidationError |

---

### 2. iam 模块

#### serializers.py
| 行号 | 原文 | 类型 |
|------|------|------|
| 152 | `"Unable to login with provided credentials"` | ValidationError |

#### permissions.py
| 行号 | 原文 | 类型 |
|------|------|------|
| 289 | `"Attempted to update an unknown field"` | PermissionDenied |

---

### 3. webhooks 模块

#### serializers.py
| 行号 | 原文 | 类型 |
|------|------|------|
| 34 | `"Invalid events list for {type} webhook"` | ValidationError |

#### views.py
| 行号 | 原文 | 类型 |
|------|------|------|
| 130 | `"Incorrect value of type parameter"` | Response |

---

### 4. quality_control 模块

#### quality_reports.py
| 行号 | 原文 | 类型 |
|------|------|------|
| 2601 | `"Provided request ID is invalid"` | ValidationError |
| 2618 | `"Quality reports are only supported in 2d tasks"` | ValidationError |

#### models.py
| 行号 | 原文 | 类型 |
|------|------|------|
| 240 | `"Annotation kind must be specified"` | ValidationError |
| 243 | `"Annotation kind must be empty"` | ValidationError |
| 245 | `"Unexpected type value '{type}'"` | ValidationError |

---

### 5. lambda_manager 模块

#### views.py
| 行号 | 原文 | 类型 |
|------|------|------|
| 421 | `'Invalid mapping. Unknown db label "{name}"'` | ValidationError |
| 550 | `"Invalid or expired tracker state"` | ValidationError |

---

### 6. redis_handler 模块

#### views.py
| 行号 | 原文 | 类型 |
|------|------|------|
| 198 | `"There is no request with specified id"` | HttpResponseNotFound |
| 235 | `"There is no request with specified id"` | HttpResponseNotFound |

#### background.py
| 行号 | 原文 | 类型 |
|------|------|------|
| 368 | `"Missing request id in the query parameters"` | ValidationError |
| 373 | `"Invalid export request id"` | ValidationError |

---

### 7. events 模块

#### export.py
| 行号 | 原文 | 类型 |
|------|------|------|
| 177 | `"Unexpected action specified for the request"` | ValidationError |

---

### 8. consensus 模块

#### views.py
| 行号 | 原文 | 类型 |
|------|------|------|
| 71 | `"Task {task_id} does not exist"` | NotFound |
| 76 | `"Jobs {job_id} do not exist"` | NotFound |

#### permissions.py
| 行号 | 原文 | 类型 |
|------|------|------|
| 36 | `"Either task_id or job_id must be specified"` | PermissionDenied |
| 44 | `"The specified job does not exist"` | ValidationError |
| 53 | `"The specified task does not exist"` | ValidationError |
| 97 | `"The specified task does not exist"` | ValidationError |

---

## 汉化注意事项

1. **保持变量占位符不变**: 如 `{task_id}`, `{name}`, `{size}` 等
2. **不破坏代码逻辑**: 只替换字符串内容
3. **保持一致性**: 相同含义的消息使用相同的翻译
4. **避免文件冲突**: 每个子代理只修改分配给它的文件
