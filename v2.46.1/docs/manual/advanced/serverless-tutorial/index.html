<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.110.0">
<meta name="robots" content="index, follow">


<link rel="shortcut icon" href="/v2.46.1/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/v2.46.1/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/v2.46.1/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/v2.46.1/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/v2.46.1/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/v2.46.1/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/v2.46.1/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/v2.46.1/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/v2.46.1/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/v2.46.1/favicons/android-192x192.png" sizes="192x192">

<title>Serverless tutorial | CVAT</title>
<meta name="description" content="Introduction Leveraging the power of computers to solve daily routine problems, fix mistakes, and find information has become second nature. It is therefore natural to use computing power in annotating datasets. There are multiple publicly available DL models for classification, object detection, and semantic segmentation which can be used for data annotation. Whilst some of these publicly available DL models can be found on CVAT, it is relatively simple to integrate your privately trained ML/DL model into CVAT.">
<meta property="og:title" content="Serverless tutorial" />
<meta property="og:description" content="Introduction Leveraging the power of computers to solve daily routine problems, fix mistakes, and find information has become second nature. It is therefore natural to use computing power in annotating datasets. There are multiple publicly available DL models for classification, object detection, and semantic segmentation which can be used for data annotation. Whilst some of these publicly available DL models can be found on CVAT, it is relatively simple to integrate your privately trained ML/DL model into CVAT." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://docs.cvat.ai/v2.46.1/docs/manual/advanced/serverless-tutorial/" /><meta property="article:section" content="docs" />

<meta property="og:site_name" content="CVAT" />
<meta itemprop="name" content="Serverless tutorial">
<meta itemprop="description" content="Introduction Leveraging the power of computers to solve daily routine problems, fix mistakes, and find information has become second nature. It is therefore natural to use computing power in annotating datasets. There are multiple publicly available DL models for classification, object detection, and semantic segmentation which can be used for data annotation. Whilst some of these publicly available DL models can be found on CVAT, it is relatively simple to integrate your privately trained ML/DL model into CVAT.">

<meta itemprop="wordCount" content="6115">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Serverless tutorial"/>
<meta name="twitter:description" content="Introduction Leveraging the power of computers to solve daily routine problems, fix mistakes, and find information has become second nature. It is therefore natural to use computing power in annotating datasets. There are multiple publicly available DL models for classification, object detection, and semantic segmentation which can be used for data annotation. Whilst some of these publicly available DL models can be found on CVAT, it is relatively simple to integrate your privately trained ML/DL model into CVAT."/>




<link rel="preload" href="/v2.46.1/scss/main.min.37be0c9688b36e147df1a601cb07a82cad24a8052241ae5d7908be2901eafc49.css" as="style">
<link href="/v2.46.1/scss/main.min.37be0c9688b36e147df1a601cb07a82cad24a8052241ae5d7908be2901eafc49.css" rel="stylesheet" integrity="">

<script
  src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"
  integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ=="
  crossorigin="anonymous"></script>
<script defer
  src="https://unpkg.com/lunr@2.3.9/lunr.min.js"
  integrity="sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli"
  crossorigin="anonymous"></script>
<link rel="stylesheet" href="/v2.46.1/css/prism.css"/>

  </head>
  <body class="td-page">
    <header>
      <nav class="td-navbar navbar-dark js-navbar-scroll">
<div class="container-fluid flex-column flex-md-row">
  <a class="navbar-brand" href="https://www.cvat.ai/"><span class="navbar-brand__logo navbar-logo"><svg width="80" height="15" viewBox="0 0 80 15" xmlns="http://www.w3.org/2000/svg"><path d="M6.63399 15C2.37083 15 0 12.5333.0 7.48889.0 2.46667 2.34908.0 6.63399.0H10.6576V2.62222H6.63399c-2.84935.0-4.0674 1.44445-4.0674 4.86667.0 3.44441 1.2398 4.88891 4.0674 4.88891H15.0638V15H6.63399z"/><path d="M22.412.0l4.8346 13.1004C27.7814 14.5415 28.8724 15 30.2842 15 31.7817 15 32.7657 14.476 33.3005 13.1004L38.3918.0H35.5895L30.9902 11.8559C30.8404 12.2052 30.6265 12.3581 30.2842 12.3581 29.942 12.3581 29.7067 12.2052 29.5783 11.8559L25.1929.0H22.412z"/><path d="M53.0989 3.1441C53.2487 2.79476 53.484 2.64192 53.8262 2.64192 54.1685 2.64192 54.4038 2.79476 54.5322 3.1441L58.9176 15h2.8023L56.8425 1.89956C56.3291.524017 55.3451.0 53.8476.0 52.3288.0 51.3448.524017 50.81 1.89956L45.74 15h2.781L53.0989 3.1441z"/><path d="M69.0681.0V2.5665H73.2661V15H75.802V2.5665H80V0H69.0681z"/></svg></span></a>
  <div class="td-navbar-nav-scroll ms-md-auto" style="height: auto;" id="main_navbar">
    <ul class="navbar-nav d-flex flex-wrap" style="padding-bottom: 0;">
      <li class="nav-item">
        <a class="nav-link active" href="/v2.46.1/docs/"><span>Documentation</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://www.cvat.ai/about" rel="noopener"><span>About</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://app.cvat.ai" rel="noopener"><span>Try it now</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://github.com/cvat-ai/cvat" rel="noopener"><i class='fab fa-github'></i><span>GitHub</span></a>
      </li>
      <li class="nav-item dropdown d-none d-lg-block">
        <div class="dropdown">
  <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">v2.46.1</a>
  <ul class="dropdown-menu">
    <li><a class="dropdown-item" href="/../">Latest version</a></li>
    <li><a class="dropdown-item" href="/../v2.46.1">v2.46.1</a></li>
    <li><a class="dropdown-item" href="/../v2.45.0">v2.45.0</a></li>
    <li><a class="dropdown-item" href="/../v2.44.3">v2.44.3</a></li>
    <li><a class="dropdown-item" href="/../v2.43.0">v2.43.0</a></li>
    <li><a class="dropdown-item" href="/../v2.42.0">v2.42.0</a></li>
    <li><a class="dropdown-item" href="/../v2.41.0">v2.41.0</a></li>
    </ul>
</div></li>
      </ul>
  </div>
  <div class="d-none d-lg-block">
    <div class="td-search td-search--offline">
  <div class="td-search__icon"></div>
  <input
    type="search"
    class="td-search__input form-control"
    placeholder="Search this site…"
    aria-label="Search this site…"
    autocomplete="off"
    
    data-offline-search-index-json-src="/v2.46.1/offline-search-index.58df9b9487a0b389529f1ab848d8c3ee.json"
    data-offline-search-base-href="/"
    data-offline-search-max-results="10"
  >
</div>

  </div>
</div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            <div id="td-sidebar-menu" class="td-sidebar__inner">
  <div id="content-mobile">
  <form class="td-sidebar__search d-flex align-items-center">
    <div class="td-search td-search--offline">
  <div class="td-search__icon"></div>
  <input
    type="search"
    class="td-search__input form-control"
    placeholder="Search this site…"
    aria-label="Search this site…"
    autocomplete="off"
    
    data-offline-search-index-json-src="/v2.46.1/offline-search-index.58df9b9487a0b389529f1ab848d8c3ee.json"
    data-offline-search-base-href="/"
    data-offline-search-max-results="10"
  >
</div>

    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type="button" data-bs-toggle="collapse" data-bs-target="#td-section-nav" aria-controls="td-section-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  </div>
  <div id="content-desktop"></div>
  <nav class="collapse td-sidebar-nav" id="td-section-nav">
    <ul class="td-sidebar-nav__section pe-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-v2461docs-li">
  <a href="/v2.46.1/docs/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-v2461docs"><span class="">Documentation</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-v2461docsgetting_started-li">
  <a href="/v2.46.1/docs/getting_started/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-v2461docsgetting_started"><span class="">Getting started</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsgetting_startedoverview-li">
  <a href="/v2.46.1/docs/getting_started/overview/" title="CVAT Overview" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsgetting_startedoverview"><span class="">Introduction to CVAT</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsgetting_startedworkflow-org-li">
  <a href="/v2.46.1/docs/getting_started/workflow-org/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsgetting_startedworkflow-org"><span class="">CVAT Complete Workflow Guide for Organizations</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsgetting_startedintroduction-to-cvat-and-datumaro-li">
  <a href="/v2.46.1/docs/getting_started/introduction-to-cvat-and-datumaro/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsgetting_startedintroduction-to-cvat-and-datumaro"><span class="">Introduction to CVAT and Datumaro</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-v2461docsintegration-li">
  <a href="/v2.46.1/docs/integration/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-v2461docsintegration"><span class="">Integrations</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsintegrationfiftyone-li">
  <a href="/v2.46.1/docs/integration/fiftyone/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsintegrationfiftyone"><span class="">FiftyOne</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsintegrationhuman-protocol-li">
  <a href="/v2.46.1/docs/integration/human-protocol/" title="CVAT and Human Protocol" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsintegrationhuman-protocol"><span class="">Human Protocol</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsfaq-li">
  <a href="/v2.46.1/docs/faq/" title="Frequently asked questions" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsfaq"><span class="">FAQ</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-v2461docsenterprise-li">
  <a href="/v2.46.1/docs/enterprise/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-v2461docsenterprise"><span class="">Paid features</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsenterprisesubscription-management-li">
  <a href="/v2.46.1/docs/enterprise/subscription-management/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsenterprisesubscription-management"><span class="">Subscription management</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsenterprisesocial-accounts-configuration-li">
  <a href="/v2.46.1/docs/enterprise/social-accounts-configuration/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsenterprisesocial-accounts-configuration"><span class="">Social auth configuration</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsenterprisesso-li">
  <a href="/v2.46.1/docs/enterprise/sso/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsenterprisesso"><span class="">SSO configuration</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsenterpriseshapes-converter-li">
  <a href="/v2.46.1/docs/enterprise/shapes-converter/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsenterpriseshapes-converter"><span class="">Shapes converter</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsenterpriseimmediate-feedback-li">
  <a href="/v2.46.1/docs/enterprise/immediate-feedback/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsenterpriseimmediate-feedback"><span class="">Immediate job feedback</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsenterprisesegment-anything-2-tracker-li">
  <a href="/v2.46.1/docs/enterprise/segment-anything-2-tracker/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsenterprisesegment-anything-2-tracker"><span class="">Segment Anything 2 Tracker</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-v2461docsmanual-li">
  <a href="/v2.46.1/docs/manual/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-v2461docsmanual"><span class="">Manual</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-v2461docsmanualbasics-li">
  <a href="/v2.46.1/docs/manual/basics/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-v2461docsmanualbasics"><span class="">Basics</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualbasicsregistration-li">
  <a href="/v2.46.1/docs/manual/basics/registration/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualbasicsregistration"><span class="">Registration &amp; Account Access</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualbasicscreate-annotation-task-li">
  <a href="/v2.46.1/docs/manual/basics/create-annotation-task/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualbasicscreate-annotation-task"><span class="">Create annotation task</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualbasicscreate-multi-tasks-li">
  <a href="/v2.46.1/docs/manual/basics/create-multi-tasks/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualbasicscreate-multi-tasks"><span class="">Create multi tasks</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-v2461docsmanualbasicscvat-annotation-interface-li">
  <a href="/v2.46.1/docs/manual/basics/cvat-annotation-interface/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-v2461docsmanualbasicscvat-annotation-interface"><span class="">CVAT Annotation Interface</span></a>
  <ul class="ul-4 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualbasicscvat-annotation-interfacenavbar-li">
  <a href="/v2.46.1/docs/manual/basics/cvat-annotation-interface/navbar/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualbasicscvat-annotation-interfacenavbar"><span class="">Navigation bar &amp; Menu</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualbasicscvat-annotation-interfacecontrols-sidebar-li">
  <a href="/v2.46.1/docs/manual/basics/cvat-annotation-interface/controls-sidebar/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualbasicscvat-annotation-interfacecontrols-sidebar"><span class="">Controls sidebar</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualbasicscvat-annotation-interfaceobjects-sidebar-li">
  <a href="/v2.46.1/docs/manual/basics/cvat-annotation-interface/objects-sidebar/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualbasicscvat-annotation-interfaceobjects-sidebar"><span class="">Objects sidebar</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualbasicscvat-annotation-interfaceworkspace-li">
  <a href="/v2.46.1/docs/manual/basics/cvat-annotation-interface/workspace/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualbasicscvat-annotation-interfaceworkspace"><span class="">CVAT Workspace</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualbasicsjobs-page-li">
  <a href="/v2.46.1/docs/manual/basics/jobs-page/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualbasicsjobs-page"><span class="">Jobs page</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualbasicstasks-page-li">
  <a href="/v2.46.1/docs/manual/basics/tasks-page/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualbasicstasks-page"><span class="">Tasks page</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualbasicstask-details-li">
  <a href="/v2.46.1/docs/manual/basics/task-details/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualbasicstask-details"><span class="">Task details</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualbasicsrequests-page-li">
  <a href="/v2.46.1/docs/manual/basics/requests-page/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualbasicsrequests-page"><span class="">Requests page</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualbasics3d-task-workspace-li">
  <a href="/v2.46.1/docs/manual/basics/3d-task-workspace/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualbasics3d-task-workspace"><span class="">3D task workspace</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualbasicsstandard-3d-mode-basics-li">
  <a href="/v2.46.1/docs/manual/basics/standard-3d-mode-basics/" title="Standard 3D mode (basics)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualbasicsstandard-3d-mode-basics"><span class="">Standard 3D mode</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualbasicssettings-li">
  <a href="/v2.46.1/docs/manual/basics/settings/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualbasicssettings"><span class="">Settings</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualbasicstypes-of-shapes-li">
  <a href="/v2.46.1/docs/manual/basics/types-of-shapes/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualbasicstypes-of-shapes"><span class="">Types of shapes</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualbasicsshape-mode-basics-li">
  <a href="/v2.46.1/docs/manual/basics/shape-mode-basics/" title="Shape mode (basics)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualbasicsshape-mode-basics"><span class="">Shape mode</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualbasicstrack-mode-basics-li">
  <a href="/v2.46.1/docs/manual/basics/track-mode-basics/" title="Track mode (basics)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualbasicstrack-mode-basics"><span class="">Track mode</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualbasics3d-object-annotation-li">
  <a href="/v2.46.1/docs/manual/basics/3d-object-annotation/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualbasics3d-object-annotation"><span class="">3D Object annotation</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualbasicsattribute-annotation-mode-basics-li">
  <a href="/v2.46.1/docs/manual/basics/attribute-annotation-mode-basics/" title="Attribute annotation mode (basics)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualbasicsattribute-annotation-mode-basics"><span class="">Attribute annotation mode</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualbasicsquality-control-li">
  <a href="/v2.46.1/docs/manual/basics/quality-control/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualbasicsquality-control"><span class="">Quality control</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualbasicsvocabulary-li">
  <a href="/v2.46.1/docs/manual/basics/vocabulary/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualbasicsvocabulary"><span class="">Vocabulary</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualbasicscloud-storages-li">
  <a href="/v2.46.1/docs/manual/basics/cloud-storages/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualbasicscloud-storages"><span class="">Cloud storages page</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualbasicsattach-cloud-storage-li">
  <a href="/v2.46.1/docs/manual/basics/attach-cloud-storage/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualbasicsattach-cloud-storage"><span class="">Attach cloud storage</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-v2461docsmanualadvanced-li">
  <a href="/v2.46.1/docs/manual/advanced/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-v2461docsmanualadvanced"><span class="">Advanced</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvancedprojects-li">
  <a href="/v2.46.1/docs/manual/advanced/projects/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedprojects"><span class="">Projects page</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvancedorganization-li">
  <a href="/v2.46.1/docs/manual/advanced/organization/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedorganization"><span class="">Organization</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvancedsearch-li">
  <a href="/v2.46.1/docs/manual/advanced/search/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedsearch"><span class="">Search</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvancedshape-mode-advanced-li">
  <a href="/v2.46.1/docs/manual/advanced/shape-mode-advanced/" title="Shape mode (advanced)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedshape-mode-advanced"><span class="">Shape mode</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvancedsingle-shape-li">
  <a href="/v2.46.1/docs/manual/advanced/single-shape/" title="Single Shape" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedsingle-shape"><span class="">Single Shape Mode</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvanceduser-roles-li">
  <a href="/v2.46.1/docs/manual/advanced/user-roles/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvanceduser-roles"><span class="">CVAT User roles</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvancedtrack-mode-advanced-li">
  <a href="/v2.46.1/docs/manual/advanced/track-mode-advanced/" title="Track mode (advanced)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedtrack-mode-advanced"><span class="">Track mode</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvanced3d-object-annotation-advanced-li">
  <a href="/v2.46.1/docs/manual/advanced/3d-object-annotation-advanced/" title="3D Object annotation (advanced)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvanced3d-object-annotation-advanced"><span class="">3D Object annotation</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvancedattribute-annotation-mode-advanced-li">
  <a href="/v2.46.1/docs/manual/advanced/attribute-annotation-mode-advanced/" title="Attribute annotation mode (advanced)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedattribute-annotation-mode-advanced"><span class="">Attribute annotation mode</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvancedannotation-with-rectangles-li">
  <a href="/v2.46.1/docs/manual/advanced/annotation-with-rectangles/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedannotation-with-rectangles"><span class="">Annotation with rectangles</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-v2461docsmanualadvancedannotation-with-polygons-li">
  <a href="/v2.46.1/docs/manual/advanced/annotation-with-polygons/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-v2461docsmanualadvancedannotation-with-polygons"><span class="">Annotation with polygons</span></a>
  <ul class="ul-4 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedannotation-with-polygonsmanual-drawing-li">
  <a href="/v2.46.1/docs/manual/advanced/annotation-with-polygons/manual-drawing/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedannotation-with-polygonsmanual-drawing"><span class="">Manual drawing</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedannotation-with-polygonsautomatic-borders-li">
  <a href="/v2.46.1/docs/manual/advanced/annotation-with-polygons/automatic-borders/" title="Drawing using automatic borders" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedannotation-with-polygonsautomatic-borders"><span class="">Automatic borders</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedannotation-with-polygonsedit-polygon-li">
  <a href="/v2.46.1/docs/manual/advanced/annotation-with-polygons/edit-polygon/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedannotation-with-polygonsedit-polygon"><span class="">Edit polygon</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedannotation-with-polygonstrack-mode-with-polygons-li">
  <a href="/v2.46.1/docs/manual/advanced/annotation-with-polygons/track-mode-with-polygons/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedannotation-with-polygonstrack-mode-with-polygons"><span class="">Track mode with polygons</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedannotation-with-polygonscreating-mask-li">
  <a href="/v2.46.1/docs/manual/advanced/annotation-with-polygons/creating-mask/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedannotation-with-polygonscreating-mask"><span class="">Creating masks</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvancedannotation-with-polylines-li">
  <a href="/v2.46.1/docs/manual/advanced/annotation-with-polylines/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedannotation-with-polylines"><span class="">Annotation with polylines</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-v2461docsmanualadvancedannotation-with-points-li">
  <a href="/v2.46.1/docs/manual/advanced/annotation-with-points/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-v2461docsmanualadvancedannotation-with-points"><span class="">Annotation with points</span></a>
  <ul class="ul-4 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedannotation-with-pointspoints-in-shape-mode-li">
  <a href="/v2.46.1/docs/manual/advanced/annotation-with-points/points-in-shape-mode/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedannotation-with-pointspoints-in-shape-mode"><span class="">Points in shape mode</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedannotation-with-pointsliner-interpolation-with-one-point-li">
  <a href="/v2.46.1/docs/manual/advanced/annotation-with-points/liner-interpolation-with-one-point/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedannotation-with-pointsliner-interpolation-with-one-point"><span class="">Linear interpolation with one point</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvancedannotation-with-ellipses-li">
  <a href="/v2.46.1/docs/manual/advanced/annotation-with-ellipses/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedannotation-with-ellipses"><span class="">Annotation with ellipses</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-v2461docsmanualadvancedannotation-with-cuboids-li">
  <a href="/v2.46.1/docs/manual/advanced/annotation-with-cuboids/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-v2461docsmanualadvancedannotation-with-cuboids"><span class="">Annotation with cuboids</span></a>
  <ul class="ul-4 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedannotation-with-cuboidscreating-the-cuboid-li">
  <a href="/v2.46.1/docs/manual/advanced/annotation-with-cuboids/creating-the-cuboid/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedannotation-with-cuboidscreating-the-cuboid"><span class="">Creating the cuboid</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedannotation-with-cuboidsediting-the-cuboid-li">
  <a href="/v2.46.1/docs/manual/advanced/annotation-with-cuboids/editing-the-cuboid/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedannotation-with-cuboidsediting-the-cuboid"><span class="">Editing the cuboid</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvancedskeletons-li">
  <a href="/v2.46.1/docs/manual/advanced/skeletons/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedskeletons"><span class="">Annotation with skeletons</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvancedannotation-with-brush-tool-li">
  <a href="/v2.46.1/docs/manual/advanced/annotation-with-brush-tool/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedannotation-with-brush-tool"><span class="">Annotation with brush tool</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvancedannotation-with-tags-li">
  <a href="/v2.46.1/docs/manual/advanced/annotation-with-tags/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedannotation-with-tags"><span class="">Annotation with tags</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvancedmodels-li">
  <a href="/v2.46.1/docs/manual/advanced/models/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedmodels"><span class="">Models</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-v2461docsmanualadvancedanalytics-and-monitoring-li">
  <a href="/v2.46.1/docs/manual/advanced/analytics-and-monitoring/" title="CVAT Analytics and QA in Cloud" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-v2461docsmanualadvancedanalytics-and-monitoring"><span class="">Analytics and QA</span></a>
  <ul class="ul-4 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedanalytics-and-monitoringauto-qa-li">
  <a href="/v2.46.1/docs/manual/advanced/analytics-and-monitoring/auto-qa/" title="Automated QA, Review &amp; Honeypots" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedanalytics-and-monitoringauto-qa"><span class="">Automated QA</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedanalytics-and-monitoringmanual-qa-li">
  <a href="/v2.46.1/docs/manual/advanced/analytics-and-monitoring/manual-qa/" title="Manual QA and Review" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedanalytics-and-monitoringmanual-qa"><span class="">Manual QA</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedanalytics-and-monitoringanalytics-li">
  <a href="/v2.46.1/docs/manual/advanced/analytics-and-monitoring/analytics/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedanalytics-and-monitoringanalytics"><span class="">Analytics</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedanalytics-and-monitoringconsensus-li">
  <a href="/v2.46.1/docs/manual/advanced/analytics-and-monitoring/consensus/" title="Consensus-based annotation" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedanalytics-and-monitoringconsensus"><span class="">Consensus</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvancedai-tools-li">
  <a href="/v2.46.1/docs/manual/advanced/ai-tools/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedai-tools"><span class="">OpenCV and AI Tools</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvancedautomatic-annotation-li">
  <a href="/v2.46.1/docs/manual/advanced/automatic-annotation/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedautomatic-annotation"><span class="">Automatic annotation</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvancedspecification-li">
  <a href="/v2.46.1/docs/manual/advanced/specification/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedspecification"><span class="">Specification for annotators</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvancedbackup-li">
  <a href="/v2.46.1/docs/manual/advanced/backup/" title="Backup Task and Project" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedbackup"><span class="">Backup</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvancedbulk-actions-li">
  <a href="/v2.46.1/docs/manual/advanced/bulk-actions/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedbulk-actions"><span class="">Bulk Actions</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvanceddelete-frame-li">
  <a href="/v2.46.1/docs/manual/advanced/delete-frame/" title="Frame deleting" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvanceddelete-frame"><span class="">Delete frame from task</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvancedslice-and-join-li">
  <a href="/v2.46.1/docs/manual/advanced/slice-and-join/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedslice-and-join"><span class="">Join and slice tools</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvancedimport-datasets-li">
  <a href="/v2.46.1/docs/manual/advanced/import-datasets/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedimport-datasets"><span class="">Import datasets and upload annotation</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-v2461docsmanualadvancedformats-li">
  <a href="/v2.46.1/docs/manual/advanced/formats/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-v2461docsmanualadvancedformats"><span class="">Export annotations and data from CVAT</span></a>
  <ul class="ul-4 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedformatsformat-cvat-li">
  <a href="/v2.46.1/docs/manual/advanced/formats/format-cvat/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedformatsformat-cvat"><span class="">CVAT for image</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedformatsformat-datumaro-li">
  <a href="/v2.46.1/docs/manual/advanced/formats/format-datumaro/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedformatsformat-datumaro"><span class="">Datumaro</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedformatsformat-labelme-li">
  <a href="/v2.46.1/docs/manual/advanced/formats/format-labelme/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedformatsformat-labelme"><span class="">LabelMe</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedformatsformat-mot-li">
  <a href="/v2.46.1/docs/manual/advanced/formats/format-mot/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedformatsformat-mot"><span class="">MOT</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedformatsformat-mots-li">
  <a href="/v2.46.1/docs/manual/advanced/formats/format-mots/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedformatsformat-mots"><span class="">MOTS</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedformatsformat-coco-li">
  <a href="/v2.46.1/docs/manual/advanced/formats/format-coco/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedformatsformat-coco"><span class="">COCO</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedformatscoco-keypoints-li">
  <a href="/v2.46.1/docs/manual/advanced/formats/coco-keypoints/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedformatscoco-keypoints"><span class="">COCO Keypoints</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedformatsformat-voc-li">
  <a href="/v2.46.1/docs/manual/advanced/formats/format-voc/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedformatsformat-voc"><span class="">Pascal VOC</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedformatsformat-smask-li">
  <a href="/v2.46.1/docs/manual/advanced/formats/format-smask/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedformatsformat-smask"><span class="">Segmentation Mask</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedformatsformat-yolo-ultralytics-li">
  <a href="/v2.46.1/docs/manual/advanced/formats/format-yolo-ultralytics/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedformatsformat-yolo-ultralytics"><span class="">Ultralytics YOLO</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedformatsformat-yolo-ultralytics-classification-li">
  <a href="/v2.46.1/docs/manual/advanced/formats/format-yolo-ultralytics-classification/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedformatsformat-yolo-ultralytics-classification"><span class="">Ultralytics-YOLO-Classification</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedformatsformat-yolo-li">
  <a href="/v2.46.1/docs/manual/advanced/formats/format-yolo/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedformatsformat-yolo"><span class="">YOLO</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedformatsformat-imagenet-li">
  <a href="/v2.46.1/docs/manual/advanced/formats/format-imagenet/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedformatsformat-imagenet"><span class="">ImageNet</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedformatsformat-widerface-li">
  <a href="/v2.46.1/docs/manual/advanced/formats/format-widerface/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedformatsformat-widerface"><span class="">Wider Face</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedformatsformat-camvid-li">
  <a href="/v2.46.1/docs/manual/advanced/formats/format-camvid/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedformatsformat-camvid"><span class="">CamVid</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedformatsformat-vggface2-li">
  <a href="/v2.46.1/docs/manual/advanced/formats/format-vggface2/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedformatsformat-vggface2"><span class="">VGGFace2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedformatsformat-market1501-li">
  <a href="/v2.46.1/docs/manual/advanced/formats/format-market1501/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedformatsformat-market1501"><span class="">Market-1501</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedformatsformat-icdar-li">
  <a href="/v2.46.1/docs/manual/advanced/formats/format-icdar/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedformatsformat-icdar"><span class="">ICDAR13/15</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedformatsformat-openimages-li">
  <a href="/v2.46.1/docs/manual/advanced/formats/format-openimages/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedformatsformat-openimages"><span class="">Open Images</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedformatsformat-cityscapes-li">
  <a href="/v2.46.1/docs/manual/advanced/formats/format-cityscapes/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedformatsformat-cityscapes"><span class="">Cityscapes</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedformatsformat-kitti-li">
  <a href="/v2.46.1/docs/manual/advanced/formats/format-kitti/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedformatsformat-kitti"><span class="">KITTI</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsmanualadvancedformatsformat-lfw-li">
  <a href="/v2.46.1/docs/manual/advanced/formats/format-lfw/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedformatsformat-lfw"><span class="">LFW</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvancedxml_format-li">
  <a href="/v2.46.1/docs/manual/advanced/xml_format/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedxml_format"><span class="">XML annotation format</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvancedshortcuts-li">
  <a href="/v2.46.1/docs/manual/advanced/shortcuts/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedshortcuts"><span class="">Shortcuts</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvancedfilter-li">
  <a href="/v2.46.1/docs/manual/advanced/filter/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedfilter"><span class="">Filter</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvancedcontextual-images-li">
  <a href="/v2.46.1/docs/manual/advanced/contextual-images/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedcontextual-images"><span class="">Contextual images</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvancedshape-grouping-li">
  <a href="/v2.46.1/docs/manual/advanced/shape-grouping/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedshape-grouping"><span class="">Shape grouping</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvanceddataset_manifest-li">
  <a href="/v2.46.1/docs/manual/advanced/dataset_manifest/" title="Dataset Manifest" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvanceddataset_manifest"><span class="">Dataset manifest</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsmanualadvanceddata-on-fly-li">
  <a href="/v2.46.1/docs/manual/advanced/data-on-fly/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvanceddata-on-fly"><span class="">Data preparation on the fly</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-v2461docsmanualadvancedserverless-tutorial-li">
  <a href="/v2.46.1/docs/manual/advanced/serverless-tutorial/" class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id="m-v2461docsmanualadvancedserverless-tutorial"><span class="td-sidebar-nav-active-item">Serverless tutorial</span></a>
</li>
  </ul>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-v2461docsadministration-li">
  <a href="/v2.46.1/docs/administration/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-v2461docsadministration"><span class="">Administration</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-v2461docsadministrationbasics-li">
  <a href="/v2.46.1/docs/administration/basics/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-v2461docsadministrationbasics"><span class="">Basics</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsadministrationbasicsinstallation-li">
  <a href="/v2.46.1/docs/administration/basics/installation/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsadministrationbasicsinstallation"><span class="">Installation Guide</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsadministrationbasicsadmin-account-li">
  <a href="/v2.46.1/docs/administration/basics/admin-account/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsadministrationbasicsadmin-account"><span class="">Superuser registration</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsadministrationbasicsaws-deployment-guide-li">
  <a href="/v2.46.1/docs/administration/basics/aws-deployment-guide/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsadministrationbasicsaws-deployment-guide"><span class="">AWS-Deployment Guide</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsadministrationbasicsrest_api_guide-li">
  <a href="/v2.46.1/docs/administration/basics/rest_api_guide/" title="REST API guide" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsadministrationbasicsrest_api_guide"><span class="">REST API</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-v2461docsadministrationadvanced-li">
  <a href="/v2.46.1/docs/administration/advanced/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-v2461docsadministrationadvanced"><span class="">Advanced</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsadministrationadvancedcvat-architecture-li">
  <a href="/v2.46.1/docs/administration/advanced/cvat-architecture/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsadministrationadvancedcvat-architecture"><span class="">CVAT Architecture</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsadministrationadvancedk8s_deployment_with_helm-li">
  <a href="/v2.46.1/docs/administration/advanced/k8s_deployment_with_helm/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsadministrationadvancedk8s_deployment_with_helm"><span class="">CVAT deployment on Kubernetes with Helm</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsadministrationadvancedinstallation_automatic_annotation-li">
  <a href="/v2.46.1/docs/administration/advanced/installation_automatic_annotation/" title="Semi-automatic and Automatic Annotation" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsadministrationadvancedinstallation_automatic_annotation"><span class="">Installation Auto Annotation</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsadministrationadvancedanalytics-li">
  <a href="/v2.46.1/docs/administration/advanced/analytics/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsadministrationadvancedanalytics"><span class="">CVAT Analytics and monitoring</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsadministrationadvancedmounting_cloud_storages-li">
  <a href="/v2.46.1/docs/administration/advanced/mounting_cloud_storages/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsadministrationadvancedmounting_cloud_storages"><span class="">Mounting cloud storage</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsadministrationadvancedldap-li">
  <a href="/v2.46.1/docs/administration/advanced/ldap/" title="LDAP Backed Authentication" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsadministrationadvancedldap"><span class="">LDAP Login</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsadministrationadvancedbackup_guide-li">
  <a href="/v2.46.1/docs/administration/advanced/backup_guide/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsadministrationadvancedbackup_guide"><span class="">Backup guide</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsadministrationadvancedupgrade_guide-li">
  <a href="/v2.46.1/docs/administration/advanced/upgrade_guide/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsadministrationadvancedupgrade_guide"><span class="">Upgrade guide</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsadministrationadvancedwebhooks-li">
  <a href="/v2.46.1/docs/administration/advanced/webhooks/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsadministrationadvancedwebhooks"><span class="">Webhooks</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsadministrationadvancedcustom_certificates-li">
  <a href="/v2.46.1/docs/administration/advanced/custom_certificates/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsadministrationadvancedcustom_certificates"><span class="">Custom Certificates</span></a>
</li>
  </ul>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-v2461docsapi_sdk-li">
  <a href="/v2.46.1/docs/api_sdk/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-v2461docsapi_sdk"><span class="">API &amp; SDK</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsapi_sdkapi-li">
  <a href="/v2.46.1/docs/api_sdk/api/" title="Server API" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-v2461docsapi_sdkapi"><span class="">API</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-v2461docsapi_sdksdk-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/" title="CVAT Python SDK" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-v2461docsapi_sdksdk"><span class="">SDK</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-v2461docsapi_sdksdkreference-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/" title="SDK API Reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-v2461docsapi_sdksdkreference"><span class="">API Reference</span></a>
  <ul class="ul-4 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-v2461docsapi_sdksdkreferenceapis-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/apis/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-v2461docsapi_sdksdkreferenceapis"><span class="">APIs</span></a>
  <ul class="ul-5 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferenceapisassets-api-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/apis/assets-api/" title="AssetsApi class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferenceapisassets-api"><span class="">AssetsApi</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferenceapisauth-api-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/apis/auth-api/" title="AuthApi class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferenceapisauth-api"><span class="">AuthApi</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferenceapiscloudstorages-api-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/apis/cloudstorages-api/" title="CloudstoragesApi class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferenceapiscloudstorages-api"><span class="">CloudstoragesApi</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferenceapiscomments-api-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/apis/comments-api/" title="CommentsApi class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferenceapiscomments-api"><span class="">CommentsApi</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferenceapisconsensus-api-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/apis/consensus-api/" title="ConsensusApi class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferenceapisconsensus-api"><span class="">ConsensusApi</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferenceapisevents-api-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/apis/events-api/" title="EventsApi class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferenceapisevents-api"><span class="">EventsApi</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferenceapisguides-api-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/apis/guides-api/" title="GuidesApi class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferenceapisguides-api"><span class="">GuidesApi</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferenceapisinvitations-api-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/apis/invitations-api/" title="InvitationsApi class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferenceapisinvitations-api"><span class="">InvitationsApi</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferenceapisissues-api-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/apis/issues-api/" title="IssuesApi class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferenceapisissues-api"><span class="">IssuesApi</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferenceapisjobs-api-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/apis/jobs-api/" title="JobsApi class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferenceapisjobs-api"><span class="">JobsApi</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferenceapislabels-api-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/apis/labels-api/" title="LabelsApi class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferenceapislabels-api"><span class="">LabelsApi</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferenceapislambda-api-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/apis/lambda-api/" title="LambdaApi class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferenceapislambda-api"><span class="">LambdaApi</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferenceapismemberships-api-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/apis/memberships-api/" title="MembershipsApi class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferenceapismemberships-api"><span class="">MembershipsApi</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferenceapisorganizations-api-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/apis/organizations-api/" title="OrganizationsApi class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferenceapisorganizations-api"><span class="">OrganizationsApi</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferenceapisprojects-api-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/apis/projects-api/" title="ProjectsApi class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferenceapisprojects-api"><span class="">ProjectsApi</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferenceapisquality-api-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/apis/quality-api/" title="QualityApi class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferenceapisquality-api"><span class="">QualityApi</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferenceapisrequests-api-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/apis/requests-api/" title="RequestsApi class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferenceapisrequests-api"><span class="">RequestsApi</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferenceapisschema-api-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/apis/schema-api/" title="SchemaApi class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferenceapisschema-api"><span class="">SchemaApi</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferenceapisserver-api-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/apis/server-api/" title="ServerApi class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferenceapisserver-api"><span class="">ServerApi</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferenceapistasks-api-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/apis/tasks-api/" title="TasksApi class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferenceapistasks-api"><span class="">TasksApi</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferenceapisusers-api-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/apis/users-api/" title="UsersApi class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferenceapisusers-api"><span class="">UsersApi</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferenceapiswebhooks-api-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/apis/webhooks-api/" title="WebhooksApi class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferenceapiswebhooks-api"><span class="">WebhooksApi</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-v2461docsapi_sdksdkreferencemodels-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-v2461docsapi_sdksdkreferencemodels"><span class="">Models</span></a>
  <ul class="ul-5 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsabout-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/about/" title="About class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsabout"><span class="">About</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsaccept-invitation-read-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/accept-invitation-read/" title="AcceptInvitationRead class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsaccept-invitation-read"><span class="">AcceptInvitationRead</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsannotation-conflict-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/annotation-conflict/" title="AnnotationConflict class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsannotation-conflict"><span class="">AnnotationConflict</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsannotation-conflict-annotation-type-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/annotation-conflict-annotation-type/" title="AnnotationConflictAnnotationType class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsannotation-conflict-annotation-type"><span class="">AnnotationConflictAnnotationType</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsannotation-conflict-severity-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/annotation-conflict-severity/" title="AnnotationConflictSeverity class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsannotation-conflict-severity"><span class="">AnnotationConflictSeverity</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsannotation-conflict-type-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/annotation-conflict-type/" title="AnnotationConflictType class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsannotation-conflict-type"><span class="">AnnotationConflictType</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsannotation-file-request-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/annotation-file-request/" title="AnnotationFileRequest class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsannotation-file-request"><span class="">AnnotationFileRequest</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsannotation-guide-read-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/annotation-guide-read/" title="AnnotationGuideRead class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsannotation-guide-read"><span class="">AnnotationGuideRead</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsannotation-guide-write-request-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/annotation-guide-write-request/" title="AnnotationGuideWriteRequest class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsannotation-guide-write-request"><span class="">AnnotationGuideWriteRequest</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsannotation-id-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/annotation-id/" title="AnnotationId class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsannotation-id"><span class="">AnnotationId</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsannotation-id-shape-type-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/annotation-id-shape-type/" title="AnnotationIdShapeType class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsannotation-id-shape-type"><span class="">AnnotationIdShapeType</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsasset-read-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/asset-read/" title="AssetRead class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsasset-read"><span class="">AssetRead</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsattribute-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/attribute/" title="Attribute class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsattribute"><span class="">Attribute</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsattribute-request-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/attribute-request/" title="AttributeRequest class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsattribute-request"><span class="">AttributeRequest</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsattribute-val-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/attribute-val/" title="AttributeVal class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsattribute-val"><span class="">AttributeVal</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsattribute-val-request-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/attribute-val-request/" title="AttributeValRequest class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsattribute-val-request"><span class="">AttributeValRequest</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsbasic-organization-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/basic-organization/" title="BasicOrganization class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsbasic-organization"><span class="">BasicOrganization</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsbasic-user-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/basic-user/" title="BasicUser class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsbasic-user"><span class="">BasicUser</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsbasic-user-request-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/basic-user-request/" title="BasicUserRequest class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsbasic-user-request"><span class="">BasicUserRequest</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelschunk-type-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/chunk-type/" title="ChunkType class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelschunk-type"><span class="">ChunkType</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsclient-events-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/client-events/" title="ClientEvents class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsclient-events"><span class="">ClientEvents</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsclient-events-request-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/client-events-request/" title="ClientEventsRequest class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsclient-events-request"><span class="">ClientEventsRequest</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsclient-events-request-previous-event-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/client-events-request-previous-event/" title="ClientEventsRequestPreviousEvent class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsclient-events-request-previous-event"><span class="">ClientEventsRequestPreviousEvent</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelscloud-storage-content-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/cloud-storage-content/" title="CloudStorageContent class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelscloud-storage-content"><span class="">CloudStorageContent</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelscloud-storage-read-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/cloud-storage-read/" title="CloudStorageRead class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelscloud-storage-read"><span class="">CloudStorageRead</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelscloud-storage-read-owner-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/cloud-storage-read-owner/" title="CloudStorageReadOwner class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelscloud-storage-read-owner"><span class="">CloudStorageReadOwner</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelscloud-storage-write-request-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/cloud-storage-write-request/" title="CloudStorageWriteRequest class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelscloud-storage-write-request"><span class="">CloudStorageWriteRequest</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelscomment-read-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/comment-read/" title="CommentRead class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelscomment-read"><span class="">CommentRead</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelscomments-summary-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/comments-summary/" title="CommentsSummary class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelscomments-summary"><span class="">CommentsSummary</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelscomment-write-request-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/comment-write-request/" title="CommentWriteRequest class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelscomment-write-request"><span class="">CommentWriteRequest</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsconsensus-merge-create-request-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/consensus-merge-create-request/" title="ConsensusMergeCreateRequest class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsconsensus-merge-create-request"><span class="">ConsensusMergeCreateRequest</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsconsensus-settings-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/consensus-settings/" title="ConsensusSettings class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsconsensus-settings"><span class="">ConsensusSettings</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelscredentials-type-enum-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/credentials-type-enum/" title="CredentialsTypeEnum class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelscredentials-type-enum"><span class="">CredentialsTypeEnum</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsdata-meta-read-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/data-meta-read/" title="DataMetaRead class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsdata-meta-read"><span class="">DataMetaRead</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsdata-request-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/data-request/" title="DataRequest class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsdata-request"><span class="">DataRequest</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsdata-request-validation-params-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/data-request-validation-params/" title="DataRequestValidationParams class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsdata-request-validation-params"><span class="">DataRequestValidationParams</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsdata-response-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/data-response/" title="DataResponse class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsdata-response"><span class="">DataResponse</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsdataset-file-request-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/dataset-file-request/" title="DatasetFileRequest class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsdataset-file-request"><span class="">DatasetFileRequest</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsdataset-format-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/dataset-format/" title="DatasetFormat class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsdataset-format"><span class="">DatasetFormat</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsdataset-formats-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/dataset-formats/" title="DatasetFormats class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsdataset-formats"><span class="">DatasetFormats</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsevent-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/event/" title="Event class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsevent"><span class="">Event</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsevent-request-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/event-request/" title="EventRequest class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsevent-request"><span class="">EventRequest</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsevents-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/events/" title="Events class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsevents"><span class="">Events</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsevents-enum-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/events-enum/" title="EventsEnum class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsevents-enum"><span class="">EventsEnum</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsfile-info-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/file-info/" title="FileInfo class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsfile-info"><span class="">FileInfo</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsfile-info-type-enum-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/file-info-type-enum/" title="FileInfoTypeEnum class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsfile-info-type-enum"><span class="">FileInfoTypeEnum</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsframe-meta-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/frame-meta/" title="FrameMeta class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsframe-meta"><span class="">FrameMeta</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsframe-selection-method-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/frame-selection-method/" title="FrameSelectionMethod class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsframe-selection-method"><span class="">FrameSelectionMethod</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsfunction-call-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/function-call/" title="FunctionCall class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsfunction-call"><span class="">FunctionCall</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkreferencemodelsfunction-call-params-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/reference/models/function-call-params/" title="FunctionCallParams class reference" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkreferencemodelsfunction-call-params"><span class="">FunctionCallParams</span></a>
</li>
  </ul>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdklowlevel-api-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/lowlevel-api/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdklowlevel-api"><span class="">Low-level API</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkhighlevel-api-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/highlevel-api/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkhighlevel-api"><span class="">High-level API</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkpytorch-adapter-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/pytorch-adapter/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkpytorch-adapter"><span class="">PyTorch adapter</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkauto-annotation-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/auto-annotation/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkauto-annotation"><span class="">Auto-annotation API</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-v2461docsapi_sdksdkdeveloper-guide-li">
  <a href="/v2.46.1/docs/api_sdk/sdk/developer-guide/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docsapi_sdksdkdeveloper-guide"><span class="">Developer guide</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docsapi_sdkcli-li">
  <a href="/v2.46.1/docs/api_sdk/cli/" title="Command line interface (CLI)" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-v2461docsapi_sdkcli"><span class="">CLI</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-v2461docscontributing-li">
  <a href="/v2.46.1/docs/contributing/" title="Contributing to this project" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-v2461docscontributing"><span class="">Contributing</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docscontributingdevelopment-environment-li">
  <a href="/v2.46.1/docs/contributing/development-environment/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docscontributingdevelopment-environment"><span class="">Development environment</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docscontributingsetup-additional-components-li">
  <a href="/v2.46.1/docs/contributing/setup-additional-components/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docscontributingsetup-additional-components"><span class="">Setup additional components in development environment</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docscontributingcoding-style-li">
  <a href="/v2.46.1/docs/contributing/coding-style/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docscontributingcoding-style"><span class="">Coding style</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docscontributingbranching-model-li">
  <a href="/v2.46.1/docs/contributing/branching-model/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docscontributingbranching-model"><span class="">Branching model</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docscontributingusing-the-issue-tracker-li">
  <a href="/v2.46.1/docs/contributing/using-the-issue-tracker/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docscontributingusing-the-issue-tracker"><span class="">Using the issue tracker</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docscontributingbug-reports-li">
  <a href="/v2.46.1/docs/contributing/bug-reports/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docscontributingbug-reports"><span class="">Bug reports</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docscontributingfeature-requests-li">
  <a href="/v2.46.1/docs/contributing/feature-requests/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docscontributingfeature-requests"><span class="">Feature requests</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docscontributingpull-requests-li">
  <a href="/v2.46.1/docs/contributing/pull-requests/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docscontributingpull-requests"><span class="">Pull requests</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docscontributingnew-annotation-format-li">
  <a href="/v2.46.1/docs/contributing/new-annotation-format/" title="How to add a new annotation format support" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docscontributingnew-annotation-format"><span class="">New annotation format support</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docscontributingserver-profiling-li">
  <a href="/v2.46.1/docs/contributing/server-profiling/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docscontributingserver-profiling"><span class="">Server Profiling</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docscontributingrunning-tests-li">
  <a href="/v2.46.1/docs/contributing/running-tests/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docscontributingrunning-tests"><span class="">Running tests</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-v2461docscontributingrepo-structure-li">
  <a href="/v2.46.1/docs/contributing/repo-structure/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-v2461docscontributingrepo-structure"><span class="">Repository structure</span></a>
</li>
  </ul>
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>

          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            
<div class="td-page-meta ms-2 pb-1 pt-2 mb-0">
<a href="https://github.com/cvat-ai/cvat/tree/develop/site/content/en/docs/manual/advanced/serverless-tutorial.md" class="td-page-meta--view" target="_blank" rel="noopener"><i class="fa-solid fa-file-lines fa-fw"></i> View page source</a>
  <a href="https://github.com/cvat-ai/cvat/edit/develop/site/content/en/docs/manual/advanced/serverless-tutorial.md" class="td-page-meta--edit" target="_blank" rel="noopener"><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit this page</a>
  <a href="https://github.com/cvat-ai/cvat/new/develop/site/content/en/docs/manual/advanced/serverless-tutorial.md?filename=change-me.md&amp;value=---%0Atitle%3A&#43;%22Long&#43;Page&#43;Title%22%0AlinkTitle%3A&#43;%22Short&#43;Nav&#43;Title%22%0Aweight%3A&#43;100%0Adescription%3A&#43;%3E-%0A&#43;&#43;&#43;&#43;&#43;Page&#43;description&#43;for&#43;heading&#43;and&#43;indexes.%0A---%0A%0A%23%23&#43;Heading%0A%0AEdit&#43;this&#43;template&#43;to&#43;create&#43;your&#43;new&#43;page.%0A%0A%2A&#43;Give&#43;it&#43;a&#43;good&#43;name%2C&#43;ending&#43;in&#43;%60.md%60&#43;-&#43;e.g.&#43;%60getting-started.md%60%0A%2A&#43;Edit&#43;the&#43;%22front&#43;matter%22&#43;section&#43;at&#43;the&#43;top&#43;of&#43;the&#43;page&#43;%28weight&#43;controls&#43;how&#43;its&#43;ordered&#43;amongst&#43;other&#43;pages&#43;in&#43;the&#43;same&#43;directory%3B&#43;lowest&#43;number&#43;first%29.%0A%2A&#43;Add&#43;a&#43;good&#43;commit&#43;message&#43;at&#43;the&#43;bottom&#43;of&#43;the&#43;page&#43;%28%3C80&#43;characters%3B&#43;use&#43;the&#43;extended&#43;description&#43;field&#43;for&#43;more&#43;detail%29.%0A%2A&#43;Create&#43;a&#43;new&#43;branch&#43;so&#43;you&#43;can&#43;preview&#43;your&#43;new&#43;file&#43;and&#43;request&#43;a&#43;review&#43;via&#43;Pull&#43;Request.%0A" class="td-page-meta--child" target="_blank" rel="noopener"><i class="fa-solid fa-pen-to-square fa-fw"></i> Create child page</a>
  <a href="https://github.com/cvat-ai/cvat/issues/new?title=Serverless%20tutorial" class="td-page-meta--issue" target="_blank" rel="noopener"><i class="fa-solid fa-list-check fa-fw"></i> Create documentation issue</a>
  <a href="https://github.com/cvat-ai/cvat/issues/new" class="td-page-meta--project-issue" target="_blank" rel="noopener"><i class="fa-solid fa-list-check fa-fw"></i> Create project issue</a>
  <a id="print" href="https://docs.cvat.ai/v2.46.1/docs/manual/advanced/_print/"><i class="fa-solid fa-print fa-fw"></i> Print entire section</a>

</div>

            <div class="td-toc">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#using-builtin-dl-models-in-practice">Using builtin DL models in practice</a>
      <ul>
        <li><a href="#tracking-using-siammask">Tracking using SiamMask</a></li>
        <li><a href="#object-detection-using-yolo-v3">Object detection using YOLO-v3</a></li>
        <li><a href="#object-segmentation-using-segment-anything">Object segmentation using Segment Anything</a></li>
      </ul>
    </li>
    <li><a href="#adding-your-own-dl-models">Adding your own DL models</a>
      <ul>
        <li><a href="#choose-a-dl-model">Choose a DL model</a></li>
        <li><a href="#run-local-experiments">Run local experiments</a></li>
        <li><a href="#dl-model-as-a-serverless-function">DL model as a serverless function</a></li>
        <li><a href="#deploy-retinanet-serverless-function">Deploy RetinaNet serverless function</a></li>
      </ul>
    </li>
    <li><a href="#advanced-capabilities">Advanced capabilities</a>
      <ul>
        <li><a href="#optimize-using-gpu">Optimize using GPU</a></li>
        <li><a href="#debugging-a-serverless-function">Debugging a serverless function</a></li>
        <li><a href="#troubleshooting">Troubleshooting</a></li>
        <li><a href="#installation-serverless-functions-on-windows-10-with-using-the-ubuntu-subsystem">Installation serverless functions on Windows 10 with using the Ubuntu subsystem</a></li>
      </ul>
    </li>
  </ul>
</nav>
      </div>
    
            

          </aside>
          <main class="col-12 col-md-9 col-xl-8 ps-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="td-breadcrumbs">
  <ol class="breadcrumb">
  <li class="breadcrumb-item">
    <a href="https://docs.cvat.ai/v2.46.1/docs/">Documentation</a></li>
  <li class="breadcrumb-item">
    <a href="https://docs.cvat.ai/v2.46.1/docs/manual/">Manual</a></li>
  <li class="breadcrumb-item">
    <a href="https://docs.cvat.ai/v2.46.1/docs/manual/advanced/">Advanced</a></li>
  <li class="breadcrumb-item active" aria-current="page">
    Serverless tutorial</li>
  </ol>
</nav>
            
<div class="td-content">
	<h1>Serverless tutorial</h1>
	
	<header class="article-meta">
		
</header>
	<h2 id="introduction">Introduction</h2>
<p>Leveraging the power of computers to solve daily routine problems,
fix mistakes, and find information has become second nature. It is therefore
natural to use computing power in annotating datasets. There are multiple
publicly available DL models for classification, object detection, and semantic
segmentation which can be used for data annotation. Whilst some of these publicly
available DL models can be found on CVAT, it is relatively simple to integrate your
privately trained ML/DL model into CVAT.</p>
<p>With the imperfection of the world, alongside the unavailability of a silver bullet
that can solve all our problems; publicly available DL models cannot be used when we
want to detect niche or specific objects on which these publicly available models were not trained.
As annotation requirements can be sometimes strict, automatically annotated objects cannot be accepted
as it is, and it is easier to annotate them from scratch. With these limitations in mind, a DL solution
that can <em>perfectly</em> annotate 50% of your data equates to reducing manual annotation by half.</p>
<p>Since we know DL models can help us to annotate faster, how then do we use them?
In CVAT all such DL models are implemented as serverless functions using the <a href="https://nuclio.io/">Nuclio</a>
serverless platform. There are multiple implemented functions that can be
found in the <a href="https://github.com/cvat-ai/cvat/tree/develop/serverless">serverless</a> directory such as
<em>Mask RCNN, Faster RCNN, SiamMask, Inside Outside Guidance, Deep Extreme Cut</em>, etc.
Follow <a href="/v2.46.1/docs/administration/advanced/installation_automatic_annotation/">the installation guide</a>
to build and deploy
these serverless functions. See <a href="/v2.46.1/docs/manual/advanced/ai-tools/">the user guide</a> to
understand how to use these functions in the UI to automatically annotate data.</p>
<p>What is a serverless function and why is it used for automatic annotation
in CVAT? Let&rsquo;s assume that you have a DL model and want to use it for
AI-assisted annotation. The naive approach is to implement a Python
script which uses the DL model to prepare a file with annotations in a
public format like <a href="https://cocodataset.org/#format-data">MS COCO</a> or <a href="http://host.robots.ox.ac.uk/pascal/VOC/voc2012/htmldoc/index.html">Pascal VOC</a>.
After that you can upload the annotation file into CVAT. It works but it is
not user-friendly. How to make CVAT run the script for you?</p>
<p>You can pack the script with your DL model into a container which
provides a standard interface for interacting with it. One way to do that is to use
the <a href="https://en.wikipedia.org/wiki/Function_as_a_service">function as a service</a> approach. Your script becomes a function
inside cloud infrastructure which can be called over HTTP. The Nuclio
serverless platform helps us to implement and manage such functions.</p>
<p>CVAT supports Nuclio out of the box if it is built properly. See
<a href="/v2.46.1/docs/administration/advanced/installation_automatic_annotation/">the installation guide</a>
for instructions.
Thus if you deploy a serverless function, the CVAT server can see it and call it
with appropriate arguments. Of course there are some tricks how to create
serverless functions for CVAT and we will discuss them in next sections of
the tutorial.</p>
<h2 id="using-builtin-dl-models-in-practice">Using builtin DL models in practice</h2>
<p>In the tutorial it is assumed that you already have the cloned
<a href="https://github.com/cvat-ai/cvat">CVAT GitHub repo</a>.
To build CVAT with serverless support you need to run <code>docker compose</code> command
with specific configuration files. In the case it is <code>docker-compose.serverless.yml</code>.
It has necessary instructions how to build and deploy Nuclio platform as a
docker container and enable corresponding support in CVAT.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker compose -f docker-compose.yml -f docker-compose.dev.yml -f components/serverless/docker-compose.serverless.yml up -d --build
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker compose -f docker-compose.yml -f docker-compose.dev.yml -f components/serverless/docker-compose.serverless.yml ps
</span></span></code></pre></div><pre tabindex="0"><code>   Name                 Command                  State                            Ports
-------------------------------------------------------------------------------------------------------------
cvat         /usr/bin/supervisord             Up             8080/tcp
cvat_db      docker-entrypoint.sh postgres    Up             5432/tcp
cvat_proxy   /docker-entrypoint.sh /bin ...   Up             0.0.0.0:8080-&gt;80/tcp,:::8080-&gt;80/tcp
cvat_redis   docker-entrypoint.sh redis ...   Up             6379/tcp
cvat_ui      /docker-entrypoint.sh ngin ...   Up             80/tcp
nuclio       /docker-entrypoint.sh sh - ...   Up (healthy)   80/tcp, 0.0.0.0:8070-&gt;8070/tcp,:::8070-&gt;8070/tcp
</code></pre><p>Next step is to deploy builtin serverless functions using Nuclio command
line tool (aka <code>nuctl</code>). It is assumed that you followed
<a href="/v2.46.1/docs/administration/advanced/installation_automatic_annotation/">the installation guide</a> and <code>nuctl</code>
is already installed on your operating system. Run the following
command to check that it works. In the beginning you should not have
any deployed serverless functions.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nuctl get functions
</span></span></code></pre></div><pre tabindex="0"><code>No functions found
</code></pre><p>Let&rsquo;s see on examples how to use DL models for annotation in different
computer vision tasks.</p>
<h3 id="tracking-using-siammask">Tracking using SiamMask</h3>
<p>In this use case a user needs to annotate all individual objects on a video as
tracks. Basically for every object we need to know its location on every frame.</p>
<p>First step is to deploy <a href="https://github.com/cvat-ai/cvat/tree/develop/serverless/pytorch/foolwood/siammask/nuclio">SiamMask</a>. The deployment process
can depend on your operating system. On Linux you can use <code>serverless/deploy_cpu.sh</code>
auxiliary script, but below we are using <code>nuctl</code> directly.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nuctl create project cvat
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>nuctl deploy --project-name cvat --path <span style="color:#4e9a06">&#34;./serverless/pytorch/foolwood/siammask/nuclio&#34;</span> --platform <span style="color:#204a87">local</span>
</span></span></code></pre></div><pre tabindex="0"><code>24.04.18 20:52:47.910 (I)                     nuctl Deploying function {&#34;name&#34;: &#34;pth-foolwood-siammask&#34;}
24.04.18 20:52:47.910 (I)                     nuctl Building {&#34;builderKind&#34;: &#34;docker&#34;, &#34;versionInfo&#34;: &#34;Label: 1.13.0, Git commit: c4422eb772781fb50fbf017698aae96199d81388, OS: linux, Arch: amd64, Go version: go1.21.7&#34;, &#34;name&#34;: &#34;pth-foolwood-siammask&#34;}
24.04.18 20:52:47.929 (W)            nuctl.platform MaxWorkers is deprecated and will be removed in v1.15.x, use NumWorkers instead
24.04.18 20:52:48.044 (I)                     nuctl Staging files and preparing base images
24.04.18 20:52:48.044 (W)                     nuctl Using user provided base image, runtime interpreter version is provided by the base image {&#34;baseImage&#34;: &#34;ubuntu:20.04&#34;}
24.04.18 20:52:48.044 (I)                     nuctl Building processor image {&#34;registryURL&#34;: &#34;&#34;, &#34;taggedImageName&#34;: &#34;cvat.pth.foolwood.siammask:latest&#34;}
24.04.18 20:52:48.044 (I)     nuctl.platform.docker Pulling image {&#34;imageName&#34;: &#34;quay.io/nuclio/handler-builder-python-onbuild:1.13.0-amd64&#34;}
24.04.18 20:52:49.717 (I)     nuctl.platform.docker Pulling image {&#34;imageName&#34;: &#34;quay.io/nuclio/uhttpc:0.0.1-amd64&#34;}
24.04.18 20:52:51.363 (I)            nuctl.platform Building docker image {&#34;image&#34;: &#34;cvat.pth.foolwood.siammask:latest&#34;}
24.04.18 20:55:58.853 (I)            nuctl.platform Pushing docker image into registry {&#34;image&#34;: &#34;cvat.pth.foolwood.siammask:latest&#34;, &#34;registry&#34;: &#34;&#34;}
24.04.18 20:55:58.853 (I)            nuctl.platform Docker image was successfully built and pushed into docker registry {&#34;image&#34;: &#34;cvat.pth.foolwood.siammask:latest&#34;}
24.04.18 20:55:58.853 (I)                     nuctl Build complete {&#34;image&#34;: &#34;cvat.pth.foolwood.siammask:latest&#34;}
24.04.18 20:55:58.861 (I)                     nuctl Cleaning up before deployment {&#34;functionName&#34;: &#34;pth-foolwood-siammask&#34;}
24.04.18 20:55:59.593 (I)            nuctl.platform Waiting for function to be ready {&#34;timeout&#34;: 120}
24.04.18 20:56:01.315 (I)                     nuctl Function deploy complete {&#34;functionName&#34;: &#34;pth-foolwood-siammask&#34;, &#34;httpPort&#34;: 33453, &#34;internalInvocationURLs&#34;: [&#34;172.17.0.5:8080&#34;], &#34;externalInvocationURLs&#34;: [&#34;0.0.0.0:33453&#34;]}
</code></pre><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nuctl get functions
</span></span></code></pre></div><pre tabindex="0"><code>  NAMESPACE |         NAME          | PROJECT | STATE | NODE PORT | REPLICAS
  nuclio    | pth-foolwood-siammask | cvat    | ready |     49155 | 1/1
</code></pre><p>Let&rsquo;s see how it works in the UI. Go to the <a href="http://localhost:8080/models">models tab</a>
and check that you can see SiamMask in the list. If you cannot, it
means that there are some problems. Go to one of our public channels and ask
for help.</p>
<p><img src="/images/models_list_with_siammask.png" alt="Models list with SiamMask"></p>
<p>After that, go to the <a href="http://localhost:8080/tasks/create">new task page</a> and
create a task with <a href="https://github.com/opencv/opencv/blob/master/samples/data/vtest.avi?raw=true">this video file</a>. You can choose any task name,
any labels, and even another video file if you like. In this case, the <code>Remote sources</code>
option was used to specify the video file. Press <code>submit</code> button at the end to
finish the process.</p>
<p><img src="/images/create_video_task.png" alt="Create a video annotation task"></p>
<p>Open the task and use <a href="/v2.46.1/docs/manual/advanced/ai-tools/">AI tools</a> to start tracking
an object. Draw a bounding box around an object, and sequentially switch
through the frame and correct the restrictive box if necessary.</p>
<p><img src="/images/trackers_tab.jpg" alt="Start tracking an object"></p>
<p>Finally you will get bounding boxes.</p>
<p><img src="/images/siammask_results.gif" alt="SiamMask results"></p>
<p><code>SiamMask</code> model is more optimized to work on Nvidia GPUs.</p>
<ul>
<li>For more information about deploying the model for the GPU, <a href="#object-segmentation-using-segment-anything">read on</a>.</li>
</ul>
<h3 id="object-detection-using-yolo-v3">Object detection using YOLO-v3</h3>
<p>First of all let&rsquo;s deploy the DL model. The deployment process is similar for
all serverless functions. Need to run <code>nuctl deploy</code> command with appropriate
arguments. To simplify the process, you can use <code>serverless/deploy_cpu.sh</code>
command. Inference of the serverless function is optimized for CPU using
<a href="https://software.intel.com/content/www/us/en/develop/tools/openvino-toolkit.html">Intel OpenVINO framework</a>.</p>
<details>
<summary>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>serverless/deploy_cpu.sh serverless/openvino/omz/public/yolo-v3-tf/
</span></span></code></pre></div></summary>
<pre tabindex="0"><code>Deploying serverless/openvino/omz/public/yolo-v3-tf function...
21.07.12 15:55:17.314                     nuctl (I) Deploying function {&#34;name&#34;: &#34;&#34;}
21.07.12 15:55:17.314                     nuctl (I) Building {&#34;versionInfo&#34;: &#34;Label: 1.5.16, Git commit: ae43a6a560c2bec42d7ccfdf6e8e11a1e3cc3774, OS: linux, Arch: amd64, Go version: go1.14.3&#34;, &#34;name&#34;: &#34;&#34;}
21.07.12 15:55:17.682                     nuctl (I) Cleaning up before deployment {&#34;functionName&#34;: &#34;openvino-omz-public-yolo-v3-tf&#34;}
21.07.12 15:55:17.739                     nuctl (I) Staging files and preparing base images
21.07.12 15:55:17.743                     nuctl (I) Building processor image {&#34;imageName&#34;: &#34;cvat/openvino.omz.public.yolo-v3-tf:latest&#34;}
21.07.12 15:55:17.743     nuctl.platform.docker (I) Pulling image {&#34;imageName&#34;: &#34;quay.io/nuclio/handler-builder-python-onbuild:1.5.16-amd64&#34;}
21.07.12 15:55:21.048     nuctl.platform.docker (I) Pulling image {&#34;imageName&#34;: &#34;quay.io/nuclio/uhttpc:0.0.1-amd64&#34;}
21.07.12 15:55:24.595            nuctl.platform (I) Building docker image {&#34;image&#34;: &#34;cvat/openvino.omz.public.yolo-v3-tf:latest&#34;}
21.07.12 15:55:30.359            nuctl.platform (I) Pushing docker image into registry {&#34;image&#34;: &#34;cvat/openvino.omz.public.yolo-v3-tf:latest&#34;, &#34;registry&#34;: &#34;&#34;}
21.07.12 15:55:30.359            nuctl.platform (I) Docker image was successfully built and pushed into docker registry {&#34;image&#34;: &#34;cvat/openvino.omz.public.yolo-v3-tf:latest&#34;}
21.07.12 15:55:30.359                     nuctl (I) Build complete {&#34;result&#34;: {&#34;Image&#34;:&#34;cvat/openvino.omz.public.yolo-v3-tf:latest&#34;,&#34;UpdatedFunctionConfig&#34;:{&#34;metadata&#34;:{&#34;name&#34;:&#34;openvino-omz-public-yolo-v3-tf&#34;,&#34;namespace&#34;:&#34;nuclio&#34;,&#34;labels&#34;:{&#34;nuclio.io/project-name&#34;:&#34;cvat&#34;},&#34;annotations&#34;:{&#34;framework&#34;:&#34;openvino&#34;,&#34;name&#34;:&#34;YOLO v3&#34;,&#34;spec&#34;:&#34;[\n  { \&#34;id\&#34;: 0, \&#34;name\&#34;: \&#34;person\&#34; },\n  { \&#34;id\&#34;: 1, \&#34;name\&#34;: \&#34;bicycle\&#34; },\n  { \&#34;id\&#34;: 2, \&#34;name\&#34;: \&#34;car\&#34; },\n  { \&#34;id\&#34;: 3, \&#34;name\&#34;: \&#34;motorbike\&#34; },\n  { \&#34;id\&#34;: 4, \&#34;name\&#34;: \&#34;aeroplane\&#34; },\n  { \&#34;id\&#34;: 5, \&#34;name\&#34;: \&#34;bus\&#34; },\n  { \&#34;id\&#34;: 6, \&#34;name\&#34;: \&#34;train\&#34; },\n  { \&#34;id\&#34;: 7, \&#34;name\&#34;: \&#34;truck\&#34; },\n  { \&#34;id\&#34;: 8, \&#34;name\&#34;: \&#34;boat\&#34; },\n  { \&#34;id\&#34;: 9, \&#34;name\&#34;: \&#34;traffic light\&#34; },\n  { \&#34;id\&#34;: 10, \&#34;name\&#34;: \&#34;fire hydrant\&#34; },\n  { \&#34;id\&#34;: 11, \&#34;name\&#34;: \&#34;stop sign\&#34; },\n  { \&#34;id\&#34;: 12, \&#34;name\&#34;: \&#34;parking meter\&#34; },\n  { \&#34;id\&#34;: 13, \&#34;name\&#34;: \&#34;bench\&#34; },\n  { \&#34;id\&#34;: 14, \&#34;name\&#34;: \&#34;bird\&#34; },\n  { \&#34;id\&#34;: 15, \&#34;name\&#34;: \&#34;cat\&#34; },\n  { \&#34;id\&#34;: 16, \&#34;name\&#34;: \&#34;dog\&#34; },\n  { \&#34;id\&#34;: 17, \&#34;name\&#34;: \&#34;horse\&#34; },\n  { \&#34;id\&#34;: 18, \&#34;name\&#34;: \&#34;sheep\&#34; },\n  { \&#34;id\&#34;: 19, \&#34;name\&#34;: \&#34;cow\&#34; },\n  { \&#34;id\&#34;: 20, \&#34;name\&#34;: \&#34;elephant\&#34; },\n  { \&#34;id\&#34;: 21, \&#34;name\&#34;: \&#34;bear\&#34; },\n  { \&#34;id\&#34;: 22, \&#34;name\&#34;: \&#34;zebra\&#34; },\n  { \&#34;id\&#34;: 23, \&#34;name\&#34;: \&#34;giraffe\&#34; },\n  { \&#34;id\&#34;: 24, \&#34;name\&#34;: \&#34;backpack\&#34; },\n  { \&#34;id\&#34;: 25, \&#34;name\&#34;: \&#34;umbrella\&#34; },\n  { \&#34;id\&#34;: 26, \&#34;name\&#34;: \&#34;handbag\&#34; },\n  { \&#34;id\&#34;: 27, \&#34;name\&#34;: \&#34;tie\&#34; },\n  { \&#34;id\&#34;: 28, \&#34;name\&#34;: \&#34;suitcase\&#34; },\n  { \&#34;id\&#34;: 29, \&#34;name\&#34;: \&#34;frisbee\&#34; },\n  { \&#34;id\&#34;: 30, \&#34;name\&#34;: \&#34;skis\&#34; },\n  { \&#34;id\&#34;: 31, \&#34;name\&#34;: \&#34;snowboard\&#34; },\n  { \&#34;id\&#34;: 32, \&#34;name\&#34;: \&#34;sports ball\&#34; },\n  { \&#34;id\&#34;: 33, \&#34;name\&#34;: \&#34;kite\&#34; },\n  { \&#34;id\&#34;: 34, \&#34;name\&#34;: \&#34;baseball bat\&#34; },\n  { \&#34;id\&#34;: 35, \&#34;name\&#34;: \&#34;baseball glove\&#34; },\n  { \&#34;id\&#34;: 36, \&#34;name\&#34;: \&#34;skateboard\&#34; },\n  { \&#34;id\&#34;: 37, \&#34;name\&#34;: \&#34;surfboard\&#34; },\n  { \&#34;id\&#34;: 38, \&#34;name\&#34;: \&#34;tennis racket\&#34; },\n  { \&#34;id\&#34;: 39, \&#34;name\&#34;: \&#34;bottle\&#34; },\n  { \&#34;id\&#34;: 40, \&#34;name\&#34;: \&#34;wine glass\&#34; },\n  { \&#34;id\&#34;: 41, \&#34;name\&#34;: \&#34;cup\&#34; },\n  { \&#34;id\&#34;: 42, \&#34;name\&#34;: \&#34;fork\&#34; },\n  { \&#34;id\&#34;: 43, \&#34;name\&#34;: \&#34;knife\&#34; },\n  { \&#34;id\&#34;: 44, \&#34;name\&#34;: \&#34;spoon\&#34; },\n  { \&#34;id\&#34;: 45, \&#34;name\&#34;: \&#34;bowl\&#34; },\n  { \&#34;id\&#34;: 46, \&#34;name\&#34;: \&#34;banana\&#34; },\n  { \&#34;id\&#34;: 47, \&#34;name\&#34;: \&#34;apple\&#34; },\n  { \&#34;id\&#34;: 48, \&#34;name\&#34;: \&#34;sandwich\&#34; },\n  { \&#34;id\&#34;: 49, \&#34;name\&#34;: \&#34;orange\&#34; },\n  { \&#34;id\&#34;: 50, \&#34;name\&#34;: \&#34;broccoli\&#34; },\n  { \&#34;id\&#34;: 51, \&#34;name\&#34;: \&#34;carrot\&#34; },\n  { \&#34;id\&#34;: 52, \&#34;name\&#34;: \&#34;hot dog\&#34; },\n  { \&#34;id\&#34;: 53, \&#34;name\&#34;: \&#34;pizza\&#34; },\n  { \&#34;id\&#34;: 54, \&#34;name\&#34;: \&#34;donut\&#34; },\n  { \&#34;id\&#34;: 55, \&#34;name\&#34;: \&#34;cake\&#34; },\n  { \&#34;id\&#34;: 56, \&#34;name\&#34;: \&#34;chair\&#34; },\n  { \&#34;id\&#34;: 57, \&#34;name\&#34;: \&#34;sofa\&#34; },\n  { \&#34;id\&#34;: 58, \&#34;name\&#34;: \&#34;pottedplant\&#34; },\n  { \&#34;id\&#34;: 59, \&#34;name\&#34;: \&#34;bed\&#34; },\n  { \&#34;id\&#34;: 60, \&#34;name\&#34;: \&#34;diningtable\&#34; },\n  { \&#34;id\&#34;: 61, \&#34;name\&#34;: \&#34;toilet\&#34; },\n  { \&#34;id\&#34;: 62, \&#34;name\&#34;: \&#34;tvmonitor\&#34; },\n  { \&#34;id\&#34;: 63, \&#34;name\&#34;: \&#34;laptop\&#34; },\n  { \&#34;id\&#34;: 64, \&#34;name\&#34;: \&#34;mouse\&#34; },\n  { \&#34;id\&#34;: 65, \&#34;name\&#34;: \&#34;remote\&#34; },\n  { \&#34;id\&#34;: 66, \&#34;name\&#34;: \&#34;keyboard\&#34; },\n  { \&#34;id\&#34;: 67, \&#34;name\&#34;: \&#34;cell phone\&#34; },\n  { \&#34;id\&#34;: 68, \&#34;name\&#34;: \&#34;microwave\&#34; },\n  { \&#34;id\&#34;: 69, \&#34;name\&#34;: \&#34;oven\&#34; },\n  { \&#34;id\&#34;: 70, \&#34;name\&#34;: \&#34;toaster\&#34; },\n  { \&#34;id\&#34;: 71, \&#34;name\&#34;: \&#34;sink\&#34; },\n  { \&#34;id\&#34;: 72, \&#34;name\&#34;: \&#34;refrigerator\&#34; },\n  { \&#34;id\&#34;: 73, \&#34;name\&#34;: \&#34;book\&#34; },\n  { \&#34;id\&#34;: 74, \&#34;name\&#34;: \&#34;clock\&#34; },\n  { \&#34;id\&#34;: 75, \&#34;name\&#34;: \&#34;vase\&#34; },\n  { \&#34;id\&#34;: 76, \&#34;name\&#34;: \&#34;scissors\&#34; },\n  { \&#34;id\&#34;: 77, \&#34;name\&#34;: \&#34;teddy bear\&#34; },\n  { \&#34;id\&#34;: 78, \&#34;name\&#34;: \&#34;hair drier\&#34; },\n  { \&#34;id\&#34;: 79, \&#34;name\&#34;: \&#34;toothbrush\&#34; }\n]\n&#34;,&#34;type&#34;:&#34;detector&#34;}},&#34;spec&#34;:{&#34;description&#34;:&#34;YOLO v3 via Intel OpenVINO&#34;,&#34;handler&#34;:&#34;main:handler&#34;,&#34;runtime&#34;:&#34;python:3.6&#34;,&#34;env&#34;:[{&#34;name&#34;:&#34;NUCLIO_PYTHON_EXE_PATH&#34;,&#34;value&#34;:&#34;/opt/nuclio/common/openvino/python3&#34;}],&#34;resources&#34;:{},&#34;image&#34;:&#34;cvat/openvino.omz.public.yolo-v3-tf:latest&#34;,&#34;targetCPU&#34;:75,&#34;triggers&#34;:{&#34;myHttpTrigger&#34;:{&#34;class&#34;:&#34;&#34;,&#34;kind&#34;:&#34;http&#34;,&#34;name&#34;:&#34;myHttpTrigger&#34;,&#34;maxWorkers&#34;:2,&#34;workerAvailabilityTimeoutMilliseconds&#34;:10000,&#34;attributes&#34;:{&#34;maxRequestBodySize&#34;:33554432}}},&#34;volumes&#34;:[{&#34;volume&#34;:{&#34;name&#34;:&#34;volume-1&#34;,&#34;hostPath&#34;:{&#34;path&#34;:&#34;/home/nmanovic/Workspace/cvat/serverless/common&#34;}},&#34;volumeMount&#34;:{&#34;name&#34;:&#34;volume-1&#34;,&#34;mountPath&#34;:&#34;/opt/nuclio/common&#34;}}],&#34;build&#34;:{&#34;image&#34;:&#34;cvat/openvino.omz.public.yolo-v3-tf&#34;,&#34;baseImage&#34;:&#34;openvino/ubuntu18_dev:2020.2&#34;,&#34;directives&#34;:{&#34;preCopy&#34;:[{&#34;kind&#34;:&#34;USER&#34;,&#34;value&#34;:&#34;root&#34;},{&#34;kind&#34;:&#34;WORKDIR&#34;,&#34;value&#34;:&#34;/opt/nuclio&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;ln -s /usr/bin/pip3 /usr/bin/pip&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;/opt/intel/openvino/deployment_tools/open_model_zoo/tools/downloader/downloader.py --name yolo-v3-tf -o /opt/nuclio/open_model_zoo&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;/opt/intel/openvino/deployment_tools/open_model_zoo/tools/downloader/converter.py --name yolo-v3-tf --precisions FP32 -d /opt/nuclio/open_model_zoo -o /opt/nuclio/open_model_zoo&#34;}]},&#34;codeEntryType&#34;:&#34;image&#34;},&#34;platform&#34;:{&#34;attributes&#34;:{&#34;mountMode&#34;:&#34;volume&#34;,&#34;restartPolicy&#34;:{&#34;maximumRetryCount&#34;:3,&#34;name&#34;:&#34;always&#34;}}},&#34;readinessTimeoutSeconds&#34;:60,&#34;securityContext&#34;:{},&#34;eventTimeout&#34;:&#34;30s&#34;}}}}
21.07.12 15:55:31.496            nuctl.platform (I) Waiting for function to be ready {&#34;timeout&#34;: 60}
21.07.12 15:55:32.894                     nuctl (I) Function deploy complete {&#34;functionName&#34;: &#34;openvino-omz-public-yolo-v3-tf&#34;, &#34;httpPort&#34;: 49156}
</code></pre></details>
<p>Again, go to <a href="http://localhost:8080/models">models tab</a> and check that you can
see <code>YOLO v3</code> in the list. If you cannot by a reason it means that there are some
problems. Go to one of our public channels and ask for help.</p>
<p>Let us reuse the task which you created for testing <code>SiamMask</code> serverless function
above. Choose the <code>magic wand</code> tool, go to the <code>Detectors</code> tab, and select
<code>YOLO v3</code> model. Press <code>Annotate</code> button and after a couple of seconds you
should see detection results. Do not forget to save annotations.</p>
<p><img src="/images/yolo_v3_results.png" alt="YOLO v3 results"></p>
<p>Also it is possible to run a detector for the whole annotation task. Thus
CVAT will run the serverless function on every frame of the task and submit
results directly into database. For more details please read
<a href="/v2.46.1/docs/manual/advanced/automatic-annotation/">the guide</a>.</p>
<h3 id="object-segmentation-using-segment-anything">Object segmentation using Segment Anything</h3>
<p>If you have an interactor that returns masks, you can use it to segment objects.
One such interactor is <code>Segment Anything</code>. Several implementations are available out of the box:</p>
<ul>
<li><code>serverless/pytorch/facebookresearch/sam/</code>  Includes two versions: one optimized for CPU and another for GPU.</li>
</ul>
<p>Deploying a serverless function optimized for GPU follows a similar process.
You only need to run the <code>serverless/deploy_gpu.sh</code> script, which executes the
same commands but utilizes the <code>function-gpu.yaml</code> configuration file instead of <code>function.yaml</code>.
See the following sections for details on the differences.</p>
<p><em>Note: Please do not run several GPU functions at the same time. In many cases, it will not work out of the box.
For now, you should manually schedule different functions on different GPUs and it requires source code modification.
Nuclio autoscaler does not support the local platform (docker).</em></p>
<details>
<summary>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>serverless/deploy_gpu.sh serverless/pytorch/facebookresearch/sam/
</span></span></code></pre></div></summary>
<pre tabindex="0"><code>25.01.30 11:02:07.034 (I)                     nuctl Deploying function {&#34;name&#34;: &#34;pth-facebookresearch-sam-vit-h&#34;}
25.01.30 11:02:07.034 (I)                     nuctl Building {&#34;builderKind&#34;: &#34;docker&#34;, &#34;versionInfo&#34;: &#34;Label: 1.13.0, Git commit: c4422eb772781fb50fbf017698aae96199d81388, OS: linux, Arch: amd64, Go version: go1.21.7&#34;, &#34;name&#34;: &#34;pth-facebookresearch-sam-vit-h&#34;}
25.01.30 11:02:07.159 (I)                     nuctl Staging files and preparing base images
25.01.30 11:02:07.160 (W)                     nuctl Using user provided base image, runtime interpreter version is provided by the base image {&#34;baseImage&#34;: &#34;ubuntu:22.04&#34;}
25.01.30 11:02:07.160 (I)                     nuctl Building processor image {&#34;registryURL&#34;: &#34;&#34;, &#34;taggedImageName&#34;: &#34;cvat.pth.facebookresearch.sam.vit_h:latest&#34;}
25.01.30 11:02:07.160 (I)     nuctl.platform.docker Pulling image {&#34;imageName&#34;: &#34;quay.io/nuclio/handler-builder-python-onbuild:1.13.0-amd64&#34;}
25.01.30 11:02:09.656 (I)     nuctl.platform.docker Pulling image {&#34;imageName&#34;: &#34;quay.io/nuclio/uhttpc:0.0.1-amd64&#34;}
25.01.30 11:02:12.174 (I)            nuctl.platform Building docker image {&#34;image&#34;: &#34;cvat.pth.facebookresearch.sam.vit_h:latest&#34;}
25.01.30 11:20:54.431 (I)            nuctl.platform Pushing docker image into registry {&#34;image&#34;: &#34;cvat.pth.facebookresearch.sam.vit_h:latest&#34;, &#34;registry&#34;: &#34;&#34;}
25.01.30 11:20:54.431 (I)            nuctl.platform Docker image was successfully built and pushed into docker registry {&#34;image&#34;: &#34;cvat.pth.facebookresearch.sam.vit_h:latest&#34;}
25.01.30 11:20:54.431 (I)                     nuctl Build complete {&#34;image&#34;: &#34;cvat.pth.facebookresearch.sam.vit_h:latest&#34;}
25.01.30 11:20:54.436 (I)                     nuctl Cleaning up before deployment {&#34;functionName&#34;: &#34;pth-facebookresearch-sam-vit-h&#34;}
25.01.30 11:20:55.018 (I)            nuctl.platform Waiting for function to be ready {&#34;timeout&#34;: 120}
25.01.30 11:20:56.719 (I)                     nuctl Function deploy complete {&#34;functionName&#34;: &#34;pth-facebookresearch-sam-vit-h&#34;, &#34;httpPort&#34;: 32771, &#34;internalInvocationURLs&#34;: [&#34;172.18.0.22:8080&#34;], &#34;externalInvocationURLs&#34;: [&#34;0.0.0.0:32771&#34;]}
</code></pre></details>
<p>Now you should be able to annotate objects using segment anything.</p>
<p><img src="/images/interactors_SAM.gif" alt="Segment Anything results"></p>
<h2 id="adding-your-own-dl-models">Adding your own DL models</h2>
<h3 id="choose-a-dl-model">Choose a DL model</h3>
<p>For the tutorial I will choose a popular AI library with a lot of models inside.
In your case it can be your own model. If it is based on detectron2 it
will be easy to integrate. Just follow the tutorial.</p>
<p><a href="https://github.com/facebookresearch/detectron2">Detectron2</a> is Facebook AI Research&rsquo;s next generation
library that provides state-of-the-art detection and segmentation algorithms.
It is the successor of Detectron and maskrcnn-benchmark. It supports a number
of computer vision research projects and production applications in Facebook.</p>
<p>Clone the repository somewhere. I assume that all other experiments will be
run from the cloned <code>detectron2</code> directory.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git clone https://github.com/facebookresearch/detectron2
</span></span><span style="display:flex;"><span><span style="color:#204a87">cd</span> detectron2
</span></span></code></pre></div><h3 id="run-local-experiments">Run local experiments</h3>
<p>Let&rsquo;s run a detection model locally. First of all need to
<a href="https://detectron2.readthedocs.io/en/latest/tutorials/install.html">install requirements</a> for the library.</p>
<p>In my case I have Ubuntu 20.04 with python 3.8.5. I installed
<a href="https://pytorch.org/get-started/locally/">PyTorch 1.8.1</a> for Linux with pip, python, and CPU inside
a virtual environment. Follow <a href="https://github.com/opencv/opencv-python">opencv-python</a>
installation guide to get the library for demo and visualization.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python3 -m venv .detectron2
</span></span><span style="display:flex;"><span>. .detectron2/bin/activate
</span></span><span style="display:flex;"><span>pip install <span style="color:#000">torch</span><span style="color:#ce5c00;font-weight:bold">==</span>1.8.1+cpu <span style="color:#000">torchvision</span><span style="color:#ce5c00;font-weight:bold">==</span>0.9.1+cpu <span style="color:#000">torchaudio</span><span style="color:#ce5c00;font-weight:bold">==</span>0.8.1 -f https://download.pytorch.org/whl/torch_stable.html
</span></span><span style="display:flex;"><span>pip install opencv-python
</span></span></code></pre></div><p>Install the detectron2 library from your local clone (you should be inside
detectron2 directory).</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python -m pip install -e .
</span></span></code></pre></div><p>After the library from Facebook AI Research is installed, we can run a couple
of experiments. See the <a href="https://detectron2.readthedocs.io/en/latest/tutorials/getting_started.html">official tutorial</a> for more
examples. I decided to experiment with <a href="https://github.com/facebookresearch/detectron2/blob/master/MODEL_ZOO.md#retinanet">RetinaNet</a>. First
step is to download model weights.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -O https://dl.fbaipublicfiles.com/detectron2/COCO-Detection/retinanet_R_101_FPN_3x/190397697/model_final_971ab9.pkl
</span></span></code></pre></div><p>To run experiments let&rsquo;s download an image with cats from wikipedia.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -O https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Cat_poster_1.jpg/1920px-Cat_poster_1.jpg
</span></span></code></pre></div><p>Finally let&rsquo;s run the DL model inference on CPU. If all is fine, you will see
a window with cats and bounding boxes around them with scores.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python demo/demo.py --config-file configs/COCO-Detection/retinanet_R_101_FPN_3x.yaml <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>  --input 1920px-Cat_poster_1.jpg --opts MODEL.WEIGHTS model_final_971ab9.pkl MODEL.DEVICE cpu
</span></span></code></pre></div><p><img src="/images/detectron2_detected_cats.jpg" alt="Cats detected by RetinaNet R101"></p>
<p>Next step is to minimize <code>demo/demo.py</code> script and keep code which is necessary to load,
run, and interpret output of the model only. Let&rsquo;s hard code parameters and remove
argparse. Keep only code which is responsible for working with an image. There is
no common advice how to minimize some code.</p>
<p>Finally you should get something like the code below which has fixed config, read a
predefined image, initialize predictor, and run inference. As the final step it prints
all detected bounding boxes with scores and labels.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">detectron2.config</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">get_cfg</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">detectron2.data.detection_utils</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">read_image</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">detectron2.engine.defaults</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">DefaultPredictor</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">detectron2.data.datasets.builtin_meta</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">COCO_CATEGORIES</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">CONFIG_FILE</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;configs/COCO-Detection/retinanet_R_101_FPN_3x.yaml&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">CONFIG_OPTS</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#34;MODEL.WEIGHTS&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;model_final_971ab9.pkl&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;MODEL.DEVICE&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;cpu&#34;</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span><span style="color:#000">CONFIDENCE_THRESHOLD</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0.5</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">setup_cfg</span><span style="color:#000;font-weight:bold">():</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">get_cfg</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">merge_from_file</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">CONFIG_FILE</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">merge_from_list</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">CONFIG_OPTS</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">MODEL</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">RETINANET</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">SCORE_THRESH_TEST</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">CONFIDENCE_THRESHOLD</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">MODEL</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">ROI_HEADS</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">SCORE_THRESH_TEST</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">CONFIDENCE_THRESHOLD</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">MODEL</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">PANOPTIC_FPN</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">COMBINE</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">INSTANCES_CONFIDENCE_THRESH</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">CONFIDENCE_THRESHOLD</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">freeze</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">cfg</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">__name__</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#4e9a06">&#34;__main__&#34;</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">setup_cfg</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87">input</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;1920px-Cat_poster_1.jpg&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">img</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">read_image</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">input</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87">format</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;BGR&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">predictor</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">DefaultPredictor</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">cfg</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">predictions</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">predictor</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">img</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">instances</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">predictions</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;instances&#39;</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">pred_boxes</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">instances</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">pred_boxes</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">scores</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">instances</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">scores</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">pred_classes</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">instances</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">pred_classes</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000">box</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">score</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">label</span> <span style="color:#204a87;font-weight:bold">in</span> <span style="color:#204a87">zip</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">pred_boxes</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">scores</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">pred_classes</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">label</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">COCO_CATEGORIES</span><span style="color:#000;font-weight:bold">[</span><span style="color:#204a87">int</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">label</span><span style="color:#000;font-weight:bold">)][</span><span style="color:#4e9a06">&#34;name&#34;</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87">print</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">box</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">tolist</span><span style="color:#000;font-weight:bold">(),</span> <span style="color:#204a87">float</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">score</span><span style="color:#000;font-weight:bold">),</span> <span style="color:#000">label</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><h3 id="dl-model-as-a-serverless-function">DL model as a serverless function</h3>
<p>When we know how to run the DL model locally, we can prepare a serverless
function which can be used by CVAT to annotate data. Let&rsquo;s see how function.yaml
will look like&hellip;</p>
<p>Let&rsquo;s look at <a href="https://raw.githubusercontent.com/cvat-ai/cvat/38b774046d41d604ed85a521587e4bacce61b69c/serverless/tensorflow/faster_rcnn_inception_v2_coco/nuclio/function.yaml">faster_rcnn_inception_v2_coco</a> serverless
function configuration as an example and try adapting it to our case.
First of all let&rsquo;s invent an unique name for the new function:
<code>pth-facebookresearch-detectron2-retinanet-r101</code>. Section <code>annotations</code>
describes our function for CVAT serverless subsystem:</p>
<ul>
<li><code>annotations.name</code> is a display name</li>
<li><code>annotations.type</code> is a type of the serverless function. It can have
several different values. Basically it affects input and output of the function.
In our case it has <code>detector</code> type and it means that the integrated DL model can
generate shapes with labels for an image.</li>
<li><code>annotations.framework</code> is used for information only and can have arbitrary
value. Usually it has values like OpenVINO, PyTorch, TensorFlow, etc.</li>
<li><code>annotations.spec</code> describes the list of labels which the model supports. In
the case the DL model was trained on MS COCO dataset and the list of labels
correspond to the dataset.</li>
<li><code>spec.description</code> is used to provide basic information for the model.</li>
</ul>
<p>All other parameters are described in <a href="https://nuclio.io/docs/latest/reference/function-configuration/function-configuration-reference.html">Nuclio documentation</a>.</p>
<ul>
<li><code>spec.handler</code> is the entry point to your function.</li>
<li><code>spec.runtime</code> is the name of the language runtime.</li>
<li><code>spec.eventTimeout</code> is the global event timeout</li>
</ul>
<p>Next step is to describe how to build our serverless function:</p>
<ul>
<li><code>spec.build.image</code> is the name of your docker image</li>
<li><code>spec.build.baseImage</code> is the name of a base container image from which to build the function</li>
<li><code>spec.build.directives</code> are commands to build your docker image</li>
</ul>
<p>In our case we start from Ubuntu 20.04 base image, install <code>curl</code> to download
weights for our model, <code>git</code> to clone detectron2 project from GitHub, and
<code>python</code> together with <code>pip</code>. Repeat installation steps which we used to setup
the DL model locally with minor modifications.</p>
<p>For Nuclio platform we have to specify a couple of more parameters:</p>
<ul>
<li><code>spec.triggers.myHttpTrigger</code> describes <a href="https://nuclio.io/docs/latest/reference/triggers/http.html">HTTP trigger</a>
to handle incoming HTTP requests.</li>
<li><code>spec.platform</code> describes some important parameters to run your functions like
<code>restartPolicy</code> and <code>mountMode</code>. Read Nuclio documentation for more details.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">metadata</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">pth-facebookresearch-detectron2-retinanet-r101</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">namespace</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">cvat</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">annotations</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">RetinaNet R101</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">type</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">detector</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">spec</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">|</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">      [
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">        { &#34;id&#34;: 1, &#34;name&#34;: &#34;person&#34; },
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">        { &#34;id&#34;: 2, &#34;name&#34;: &#34;bicycle&#34; },
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">        ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">        { &#34;id&#34;:89, &#34;name&#34;: &#34;hair_drier&#34; },
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">        { &#34;id&#34;:90, &#34;name&#34;: &#34;toothbrush&#34; }
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">      ]</span><span style="color:#f8f8f8;text-decoration:underline">      
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">spec</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">description</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">RetinaNet R101 from Detectron2</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">runtime</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#39;python:3.8&#39;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">handler</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">main:handler</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">eventTimeout</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">30s</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">build</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">image</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">cvat/pth.facebookresearch.detectron2.retinanet_r101</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">baseImage</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">ubuntu:20.04</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">directives</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">preCopy</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">ENV</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">value</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">DEBIAN_FRONTEND=noninteractive</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">RUN</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">value</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">apt-get update &amp;&amp; apt-get -y install curl git python3 python3-pip</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">WORKDIR</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">value</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">/opt/nuclio</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">RUN</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">value</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">pip3 install torch==1.8.1+cpu torchvision==0.9.1+cpu torchaudio==0.8.1 -f https://download.pytorch.org/whl/torch_stable.html</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">RUN</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">value</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">pip3 install &#39;git+https://github.com/facebookresearch/detectron2@v0.4&#39;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">RUN</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">value</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">curl -O https://dl.fbaipublicfiles.com/detectron2/COCO-Detection/retinanet_R_101_FPN_3x/190397697/model_final_971ab9.pkl</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">RUN</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">value</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">ln -s /usr/bin/pip3 /usr/local/bin/pip</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">triggers</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">myHttpTrigger</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">maxWorkers</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#39;http&#39;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">workerAvailabilityTimeoutMilliseconds</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">10000</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">attributes</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:bold">maxRequestBodySize</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">33554432</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#8f5902;font-style:italic"># 32MB</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">platform</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">attributes</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">restartPolicy</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">always</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:bold">maximumRetryCount</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">3</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">mountMode</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">volume</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><p>Full code can be found here: <a href="https://github.com/cvat-ai/cvat/blob/b2f616859ca64687c385e636b4a25014fbb9d17c/serverless/pytorch/facebookresearch/detectron2/retinanet/nuclio/function.yaml">detectron2/retinanet/nuclio/function.yaml</a></p>
<p>Next step is to adapt our source code which we implemented to run the DL model
locally to requirements of Nuclio platform. First step is to load the model
into memory using <code>init_context(context)</code> function. Read more about the function
in <a href="https://nuclio.io/docs/latest/concepts/best-practices-and-common-pitfalls.html">Best Practices and Common Pitfalls</a>.</p>
<p>After that we need to accept incoming HTTP requests, run inference,
reply with detection results. For the process our entry point is responsible
which we specified in our function specification <code>handler(context, event)</code>.
Again in accordance to function specification the entry point should be
located inside <code>main.py</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">init_context</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">context</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">logger</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Init context...  0%&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">get_config</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;COCO-Detection/retinanet_R_101_FPN_3x.yaml&#39;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">merge_from_list</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">CONFIG_OPTS</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">MODEL</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">RETINANET</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">SCORE_THRESH_TEST</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">CONFIDENCE_THRESHOLD</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">MODEL</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">ROI_HEADS</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">SCORE_THRESH_TEST</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">CONFIDENCE_THRESHOLD</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">MODEL</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">PANOPTIC_FPN</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">COMBINE</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">INSTANCES_CONFIDENCE_THRESH</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">CONFIDENCE_THRESHOLD</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">cfg</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">freeze</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">predictor</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">DefaultPredictor</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">cfg</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">user_data</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">model_handler</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">predictor</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">logger</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Init context...100%&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">handler</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">context</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">event</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">logger</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Run retinanet-R101 model&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">data</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">event</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">body</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">buf</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">io</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">BytesIO</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">base64</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">b64decode</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">data</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#34;image&#34;</span><span style="color:#000;font-weight:bold">]))</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">threshold</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87">float</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">data</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">get</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;threshold&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0.5</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">image</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">convert_PIL_to_numpy</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">Image</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">open</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">buf</span><span style="color:#000;font-weight:bold">),</span> <span style="color:#204a87">format</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;BGR&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">predictions</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">user_data</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">model_handler</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">image</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">instances</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">predictions</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;instances&#39;</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">pred_boxes</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">instances</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">pred_boxes</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">scores</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">instances</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">scores</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">pred_classes</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">instances</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">pred_classes</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">results</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">[]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000">box</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">score</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">label</span> <span style="color:#204a87;font-weight:bold">in</span> <span style="color:#204a87">zip</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">pred_boxes</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">scores</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">pred_classes</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">label</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">COCO_CATEGORIES</span><span style="color:#000;font-weight:bold">[</span><span style="color:#204a87">int</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">label</span><span style="color:#000;font-weight:bold">)][</span><span style="color:#4e9a06">&#34;name&#34;</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">score</span> <span style="color:#ce5c00;font-weight:bold">&gt;=</span> <span style="color:#000">threshold</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">results</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">append</span><span style="color:#000;font-weight:bold">({</span>
</span></span><span style="display:flex;"><span>                <span style="color:#4e9a06">&#34;confidence&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87">str</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">float</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">score</span><span style="color:#000;font-weight:bold">)),</span>
</span></span><span style="display:flex;"><span>                <span style="color:#4e9a06">&#34;label&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000">label</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>                <span style="color:#4e9a06">&#34;points&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000">box</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">tolist</span><span style="color:#000;font-weight:bold">(),</span>
</span></span><span style="display:flex;"><span>                <span style="color:#4e9a06">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;rectangle&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">})</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">Response</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">body</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">json</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">dumps</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">results</span><span style="color:#000;font-weight:bold">),</span> <span style="color:#000">headers</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000;font-weight:bold">{},</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">content_type</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#39;application/json&#39;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">status_code</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">200</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><p>Full code can be found here: <a href="https://github.com/cvat-ai/cvat/blob/b2f616859ca64687c385e636b4a25014fbb9d17c/serverless/pytorch/facebookresearch/detectron2/retinanet/nuclio/main.py">detectron2/retinanet/nuclio/main.py</a></p>
<h3 id="deploy-retinanet-serverless-function">Deploy RetinaNet serverless function</h3>
<p>To use the new serverless function you have to deploy it using <code>nuctl</code> command.
The actual deployment process is described in
<a href="/v2.46.1/docs/administration/advanced/installation_automatic_annotation/">automatic annotation guide</a>.</p>
<details>
<summary>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>./serverless/deploy_cpu.sh ./serverless/pytorch/facebookresearch/detectron2/retinanet/
</span></span></code></pre></div></summary>
<pre tabindex="0"><code>21.07.21 15:20:31.011                     nuctl (I) Deploying function {&#34;name&#34;: &#34;&#34;}
21.07.21 15:20:31.011                     nuctl (I) Building {&#34;versionInfo&#34;: &#34;Label: 1.5.16, Git commit: ae43a6a560c2bec42d7ccfdf6e8e11a1e3cc3774, OS: linux, Arch: amd64, Go version: go1.14.3&#34;, &#34;name&#34;: &#34;&#34;}
21.07.21 15:20:31.407                     nuctl (I) Cleaning up before deployment {&#34;functionName&#34;: &#34;pth-facebookresearch-detectron2-retinanet-r101&#34;}
21.07.21 15:20:31.497                     nuctl (I) Function already exists, deleting function containers {&#34;functionName&#34;: &#34;pth-facebookresearch-detectron2-retinanet-r101&#34;}
21.07.21 15:20:31.914                     nuctl (I) Staging files and preparing base images
21.07.21 15:20:31.915                     nuctl (I) Building processor image {&#34;imageName&#34;: &#34;cvat/pth.facebookresearch.detectron2.retinanet_r101:latest&#34;}
21.07.21 15:20:31.916     nuctl.platform.docker (I) Pulling image {&#34;imageName&#34;: &#34;quay.io/nuclio/handler-builder-python-onbuild:1.5.16-amd64&#34;}
21.07.21 15:20:34.495     nuctl.platform.docker (I) Pulling image {&#34;imageName&#34;: &#34;quay.io/nuclio/uhttpc:0.0.1-amd64&#34;}
21.07.21 15:20:37.524            nuctl.platform (I) Building docker image {&#34;image&#34;: &#34;cvat/pth.facebookresearch.detectron2.retinanet_r101:latest&#34;}
21.07.21 15:20:37.852            nuctl.platform (I) Pushing docker image into registry {&#34;image&#34;: &#34;cvat/pth.facebookresearch.detectron2.retinanet_r101:latest&#34;, &#34;registry&#34;: &#34;&#34;}
21.07.21 15:20:37.853            nuctl.platform (I) Docker image was successfully built and pushed into docker registry {&#34;image&#34;: &#34;cvat/pth.facebookresearch.detectron2.retinanet_r101:latest&#34;}
21.07.21 15:20:37.853                     nuctl (I) Build complete {&#34;result&#34;: {&#34;Image&#34;:&#34;cvat/pth.facebookresearch.detectron2.retinanet_r101:latest&#34;,&#34;UpdatedFunctionConfig&#34;:{&#34;metadata&#34;:{&#34;name&#34;:&#34;pth-facebookresearch-detectron2-retinanet-r101&#34;,&#34;namespace&#34;:&#34;nuclio&#34;,&#34;labels&#34;:{&#34;nuclio.io/project-name&#34;:&#34;cvat&#34;},&#34;annotations&#34;:{&#34;framework&#34;:&#34;pytorch&#34;,&#34;name&#34;:&#34;RetinaNet R101&#34;,&#34;spec&#34;:&#34;[\n  { \&#34;id\&#34;: 1, \&#34;name\&#34;: \&#34;person\&#34; },\n  { \&#34;id\&#34;: 2, \&#34;name\&#34;: \&#34;bicycle\&#34; },\n  { \&#34;id\&#34;: 3, \&#34;name\&#34;: \&#34;car\&#34; },\n  { \&#34;id\&#34;: 4, \&#34;name\&#34;: \&#34;motorcycle\&#34; },\n  { \&#34;id\&#34;: 5, \&#34;name\&#34;: \&#34;airplane\&#34; },\n  { \&#34;id\&#34;: 6, \&#34;name\&#34;: \&#34;bus\&#34; },\n  { \&#34;id\&#34;: 7, \&#34;name\&#34;: \&#34;train\&#34; },\n  { \&#34;id\&#34;: 8, \&#34;name\&#34;: \&#34;truck\&#34; },\n  { \&#34;id\&#34;: 9, \&#34;name\&#34;: \&#34;boat\&#34; },\n  { \&#34;id\&#34;:10, \&#34;name\&#34;: \&#34;traffic_light\&#34; },\n  { \&#34;id\&#34;:11, \&#34;name\&#34;: \&#34;fire_hydrant\&#34; },\n  { \&#34;id\&#34;:13, \&#34;name\&#34;: \&#34;stop_sign\&#34; },\n  { \&#34;id\&#34;:14, \&#34;name\&#34;: \&#34;parking_meter\&#34; },\n  { \&#34;id\&#34;:15, \&#34;name\&#34;: \&#34;bench\&#34; },\n  { \&#34;id\&#34;:16, \&#34;name\&#34;: \&#34;bird\&#34; },\n  { \&#34;id\&#34;:17, \&#34;name\&#34;: \&#34;cat\&#34; },\n  { \&#34;id\&#34;:18, \&#34;name\&#34;: \&#34;dog\&#34; },\n  { \&#34;id\&#34;:19, \&#34;name\&#34;: \&#34;horse\&#34; },\n  { \&#34;id\&#34;:20, \&#34;name\&#34;: \&#34;sheep\&#34; },\n  { \&#34;id\&#34;:21, \&#34;name\&#34;: \&#34;cow\&#34; },\n  { \&#34;id\&#34;:22, \&#34;name\&#34;: \&#34;elephant\&#34; },\n  { \&#34;id\&#34;:23, \&#34;name\&#34;: \&#34;bear\&#34; },\n  { \&#34;id\&#34;:24, \&#34;name\&#34;: \&#34;zebra\&#34; },\n  { \&#34;id\&#34;:25, \&#34;name\&#34;: \&#34;giraffe\&#34; },\n  { \&#34;id\&#34;:27, \&#34;name\&#34;: \&#34;backpack\&#34; },\n  { \&#34;id\&#34;:28, \&#34;name\&#34;: \&#34;umbrella\&#34; },\n  { \&#34;id\&#34;:31, \&#34;name\&#34;: \&#34;handbag\&#34; },\n  { \&#34;id\&#34;:32, \&#34;name\&#34;: \&#34;tie\&#34; },\n  { \&#34;id\&#34;:33, \&#34;name\&#34;: \&#34;suitcase\&#34; },\n  { \&#34;id\&#34;:34, \&#34;name\&#34;: \&#34;frisbee\&#34; },\n  { \&#34;id\&#34;:35, \&#34;name\&#34;: \&#34;skis\&#34; },\n  { \&#34;id\&#34;:36, \&#34;name\&#34;: \&#34;snowboard\&#34; },\n  { \&#34;id\&#34;:37, \&#34;name\&#34;: \&#34;sports_ball\&#34; },\n  { \&#34;id\&#34;:38, \&#34;name\&#34;: \&#34;kite\&#34; },\n  { \&#34;id\&#34;:39, \&#34;name\&#34;: \&#34;baseball_bat\&#34; },\n  { \&#34;id\&#34;:40, \&#34;name\&#34;: \&#34;baseball_glove\&#34; },\n  { \&#34;id\&#34;:41, \&#34;name\&#34;: \&#34;skateboard\&#34; },\n  { \&#34;id\&#34;:42, \&#34;name\&#34;: \&#34;surfboard\&#34; },\n  { \&#34;id\&#34;:43, \&#34;name\&#34;: \&#34;tennis_racket\&#34; },\n  { \&#34;id\&#34;:44, \&#34;name\&#34;: \&#34;bottle\&#34; },\n  { \&#34;id\&#34;:46, \&#34;name\&#34;: \&#34;wine_glass\&#34; },\n  { \&#34;id\&#34;:47, \&#34;name\&#34;: \&#34;cup\&#34; },\n  { \&#34;id\&#34;:48, \&#34;name\&#34;: \&#34;fork\&#34; },\n  { \&#34;id\&#34;:49, \&#34;name\&#34;: \&#34;knife\&#34; },\n  { \&#34;id\&#34;:50, \&#34;name\&#34;: \&#34;spoon\&#34; },\n  { \&#34;id\&#34;:51, \&#34;name\&#34;: \&#34;bowl\&#34; },\n  { \&#34;id\&#34;:52, \&#34;name\&#34;: \&#34;banana\&#34; },\n  { \&#34;id\&#34;:53, \&#34;name\&#34;: \&#34;apple\&#34; },\n  { \&#34;id\&#34;:54, \&#34;name\&#34;: \&#34;sandwich\&#34; },\n  { \&#34;id\&#34;:55, \&#34;name\&#34;: \&#34;orange\&#34; },\n  { \&#34;id\&#34;:56, \&#34;name\&#34;: \&#34;broccoli\&#34; },\n  { \&#34;id\&#34;:57, \&#34;name\&#34;: \&#34;carrot\&#34; },\n  { \&#34;id\&#34;:58, \&#34;name\&#34;: \&#34;hot_dog\&#34; },\n  { \&#34;id\&#34;:59, \&#34;name\&#34;: \&#34;pizza\&#34; },\n  { \&#34;id\&#34;:60, \&#34;name\&#34;: \&#34;donut\&#34; },\n  { \&#34;id\&#34;:61, \&#34;name\&#34;: \&#34;cake\&#34; },\n  { \&#34;id\&#34;:62, \&#34;name\&#34;: \&#34;chair\&#34; },\n  { \&#34;id\&#34;:63, \&#34;name\&#34;: \&#34;couch\&#34; },\n  { \&#34;id\&#34;:64, \&#34;name\&#34;: \&#34;potted_plant\&#34; },\n  { \&#34;id\&#34;:65, \&#34;name\&#34;: \&#34;bed\&#34; },\n  { \&#34;id\&#34;:67, \&#34;name\&#34;: \&#34;dining_table\&#34; },\n  { \&#34;id\&#34;:70, \&#34;name\&#34;: \&#34;toilet\&#34; },\n  { \&#34;id\&#34;:72, \&#34;name\&#34;: \&#34;tv\&#34; },\n  { \&#34;id\&#34;:73, \&#34;name\&#34;: \&#34;laptop\&#34; },\n  { \&#34;id\&#34;:74, \&#34;name\&#34;: \&#34;mouse\&#34; },\n  { \&#34;id\&#34;:75, \&#34;name\&#34;: \&#34;remote\&#34; },\n  { \&#34;id\&#34;:76, \&#34;name\&#34;: \&#34;keyboard\&#34; },\n  { \&#34;id\&#34;:77, \&#34;name\&#34;: \&#34;cell_phone\&#34; },\n  { \&#34;id\&#34;:78, \&#34;name\&#34;: \&#34;microwave\&#34; },\n  { \&#34;id\&#34;:79, \&#34;name\&#34;: \&#34;oven\&#34; },\n  { \&#34;id\&#34;:80, \&#34;name\&#34;: \&#34;toaster\&#34; },\n  { \&#34;id\&#34;:81, \&#34;name\&#34;: \&#34;sink\&#34; },\n  { \&#34;id\&#34;:83, \&#34;name\&#34;: \&#34;refrigerator\&#34; },\n  { \&#34;id\&#34;:84, \&#34;name\&#34;: \&#34;book\&#34; },\n  { \&#34;id\&#34;:85, \&#34;name\&#34;: \&#34;clock\&#34; },\n  { \&#34;id\&#34;:86, \&#34;name\&#34;: \&#34;vase\&#34; },\n  { \&#34;id\&#34;:87, \&#34;name\&#34;: \&#34;scissors\&#34; },\n  { \&#34;id\&#34;:88, \&#34;name\&#34;: \&#34;teddy_bear\&#34; },\n  { \&#34;id\&#34;:89, \&#34;name\&#34;: \&#34;hair_drier\&#34; },\n  { \&#34;id\&#34;:90, \&#34;name\&#34;: \&#34;toothbrush\&#34; }\n]\n&#34;,&#34;type&#34;:&#34;detector&#34;}},&#34;spec&#34;:{&#34;description&#34;:&#34;RetinaNet R101 from Detectron2&#34;,&#34;handler&#34;:&#34;main:handler&#34;,&#34;runtime&#34;:&#34;python:3.8&#34;,&#34;resources&#34;:{},&#34;image&#34;:&#34;cvat/pth.facebookresearch.detectron2.retinanet_r101:latest&#34;,&#34;targetCPU&#34;:75,&#34;triggers&#34;:{&#34;myHttpTrigger&#34;:{&#34;class&#34;:&#34;&#34;,&#34;kind&#34;:&#34;http&#34;,&#34;name&#34;:&#34;myHttpTrigger&#34;,&#34;maxWorkers&#34;:2,&#34;workerAvailabilityTimeoutMilliseconds&#34;:10000,&#34;attributes&#34;:{&#34;maxRequestBodySize&#34;:33554432}}},&#34;volumes&#34;:[{&#34;volume&#34;:{&#34;name&#34;:&#34;volume-1&#34;,&#34;hostPath&#34;:{&#34;path&#34;:&#34;/home/nmanovic/Workspace/cvat/serverless/common&#34;}},&#34;volumeMount&#34;:{&#34;name&#34;:&#34;volume-1&#34;,&#34;mountPath&#34;:&#34;/opt/nuclio/common&#34;}}],&#34;build&#34;:{&#34;image&#34;:&#34;cvat/pth.facebookresearch.detectron2.retinanet_r101&#34;,&#34;baseImage&#34;:&#34;ubuntu:20.04&#34;,&#34;directives&#34;:{&#34;preCopy&#34;:[{&#34;kind&#34;:&#34;ENV&#34;,&#34;value&#34;:&#34;DEBIAN_FRONTEND=noninteractive&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;apt-get update \u0026\u0026 apt-get -y install curl git python3 python3-pip&#34;},{&#34;kind&#34;:&#34;WORKDIR&#34;,&#34;value&#34;:&#34;/opt/nuclio&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;pip3 install torch==1.8.1+cpu torchvision==0.9.1+cpu torchaudio==0.8.1 -f https://download.pytorch.org/whl/torch_stable.html&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;pip3 install &#39;git+https://github.com/facebookresearch/detectron2@v0.4&#39;&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;curl -O https://dl.fbaipublicfiles.com/detectron2/COCO-Detection/retinanet_R_101_FPN_3x/190397697/model_final_971ab9.pkl&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;ln -s /usr/bin/pip3 /usr/local/bin/pip&#34;}]},&#34;codeEntryType&#34;:&#34;image&#34;},&#34;platform&#34;:{&#34;attributes&#34;:{&#34;mountMode&#34;:&#34;volume&#34;,&#34;restartPolicy&#34;:{&#34;maximumRetryCount&#34;:3,&#34;name&#34;:&#34;always&#34;}}},&#34;readinessTimeoutSeconds&#34;:60,&#34;securityContext&#34;:{},&#34;eventTimeout&#34;:&#34;30s&#34;}}}}
21.07.21 15:20:39.042            nuctl.platform (I) Waiting for function to be ready {&#34;timeout&#34;: 60}
21.07.21 15:20:40.480                     nuctl (I) Function deploy complete {&#34;functionName&#34;: &#34;pth-facebookresearch-detectron2-retinanet-r101&#34;, &#34;httpPort&#34;: 49153}
</code></pre></details>
<h2 id="advanced-capabilities">Advanced capabilities</h2>
<h3 id="optimize-using-gpu">Optimize using GPU</h3>
<p>To optimize a function for a specific device (e.g. GPU), basically you just need
to modify instructions above to run the function on the target device. In most
cases it will be necessary to modify installation instructions only.</p>
<p>For <code>RetinaNet R101</code> which was added above modifications will look like:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-diff" data-lang="diff"><span style="display:flex;"><span><span style="color:#a40000">--- function.yaml	2021-06-25 21:06:51.603281723 +0300
</span></span></span><span style="display:flex;"><span><span style="color:#a40000"></span><span style="color:#00a000">+++ function-gpu.yaml	2021-07-07 22:38:53.454202637 +0300
</span></span></span><span style="display:flex;"><span><span style="color:#00a000"></span><span style="color:#800080;font-weight:bold">@@ -90,7 +90,7 @@
</span></span></span><span style="display:flex;"><span><span style="color:#800080;font-weight:bold"></span>       ]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> spec:
</span></span><span style="display:flex;"><span><span style="color:#a40000">-  description: RetinaNet R101 from Detectron2
</span></span></span><span style="display:flex;"><span><span style="color:#a40000"></span><span style="color:#00a000">+  description: RetinaNet R101 from Detectron2 optimized for GPU
</span></span></span><span style="display:flex;"><span><span style="color:#00a000"></span>   runtime: &#39;python:3.8&#39;
</span></span><span style="display:flex;"><span>   handler: main:handler
</span></span><span style="display:flex;"><span>   eventTimeout: 30s
</span></span><span style="display:flex;"><span><span style="color:#800080;font-weight:bold">@@ -108,7 +108,7 @@
</span></span></span><span style="display:flex;"><span><span style="color:#800080;font-weight:bold"></span>         - kind: WORKDIR
</span></span><span style="display:flex;"><span>           value: /opt/nuclio
</span></span><span style="display:flex;"><span>         - kind: RUN
</span></span><span style="display:flex;"><span><span style="color:#a40000">-          value: pip3 install torch==1.8.1+cpu torchvision==0.9.1+cpu torchaudio==0.8.1 -f https://download.pytorch.org/whl/torch_stable.html
</span></span></span><span style="display:flex;"><span><span style="color:#a40000"></span><span style="color:#00a000">+          value: pip3 install torch==1.8.1+cu111 torchvision==0.9.1+cu111 torchaudio==0.8.1 -f https://download.pytorch.org/whl/torch_stable.html
</span></span></span><span style="display:flex;"><span><span style="color:#00a000"></span>         - kind: RUN
</span></span><span style="display:flex;"><span>           value: git clone https://github.com/facebookresearch/detectron2
</span></span><span style="display:flex;"><span>         - kind: RUN
</span></span><span style="display:flex;"><span><span style="color:#800080;font-weight:bold">@@ -120,12 +120,16 @@
</span></span></span><span style="display:flex;"><span><span style="color:#800080;font-weight:bold"></span>
</span></span><span style="display:flex;"><span>   triggers:
</span></span><span style="display:flex;"><span>     myHttpTrigger:
</span></span><span style="display:flex;"><span><span style="color:#a40000">-      maxWorkers: 2
</span></span></span><span style="display:flex;"><span><span style="color:#a40000"></span><span style="color:#00a000">+      maxWorkers: 1
</span></span></span><span style="display:flex;"><span><span style="color:#00a000"></span>       kind: &#39;http&#39;
</span></span><span style="display:flex;"><span>       workerAvailabilityTimeoutMilliseconds: 10000
</span></span><span style="display:flex;"><span>       attributes:
</span></span><span style="display:flex;"><span>         maxRequestBodySize: 33554432 # 32MB
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00a000">+  resources:
</span></span></span><span style="display:flex;"><span><span style="color:#00a000">+    limits:
</span></span></span><span style="display:flex;"><span><span style="color:#00a000">+      nvidia.com/gpu: 1
</span></span></span><span style="display:flex;"><span><span style="color:#00a000">+
</span></span></span><span style="display:flex;"><span><span style="color:#00a000"></span>   platform:
</span></span><span style="display:flex;"><span>     attributes:
</span></span><span style="display:flex;"><span>       restartPolicy:
</span></span></code></pre></div><p><em>Note: GPU has very limited amount of memory and it doesn&rsquo;t allow to run
multiple serverless functions in parallel for now using free open-source
Nuclio version on the local platform because scaling to zero feature is
absent. Theoretically it is possible to run different functions on different
GPUs, but it requires to change source code on corresponding serverless
functions to choose a free GPU.</em></p>
<h3 id="debugging-a-serverless-function">Debugging a serverless function</h3>
<p>Let&rsquo;s say you have a problem with your serverless function and want to debug it.
Of course you can use <code>context.logger.info</code> or similar methods to print the
intermediate state of your function.
Another way is to debug using <a href="https://code.visualstudio.com/">Visual Studio Code</a>.
Please see instructions below to setup your environment step by step.</p>
<p>Let&rsquo;s modify our function.yaml to include <a href="https://github.com/microsoft/debugpy">debugpy</a>
package and specify that <code>maxWorkers</code> count is 1. Otherwise both workers will
try to use the same port and it will lead to an exception in python code.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">RUN</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">value</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">pip3 install debugpy</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">triggers</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">myHttpTrigger</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">maxWorkers</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><p>Change <code>main.py</code> to listen to a port (e.g. 5678). Insert code below
in the beginning of your file with entry point.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">debugpy</span>
</span></span><span style="display:flex;"><span><span style="color:#000">debugpy</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">listen</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">5678</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><p>After these changes deploy the serverless function once again. For
<code>serverless/pytorch/facebookresearch/detectron2/retinanet/nuclio/</code> you should
run the command below:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>serverless/deploy_cpu.sh serverless/pytorch/facebookresearch/detectron2/retinanet
</span></span></code></pre></div><p>To debug python code inside a container you have to publish the port (in this
tutorial it is 5678). Nuclio deploy command doesn&rsquo;t support that and we have to
workaround it using <a href="https://www.ssh.com/academy/ssh/tunneling">SSH port forwarding</a>.</p>
<ul>
<li>Install SSH server on your host machine using <code>sudo apt install openssh-server</code></li>
<li>In <code>/etc/ssh/sshd_config</code> host file set <code>GatewayPorts yes</code></li>
<li>Restart ssh service to apply changes using <code>sudo systemctl restart ssh.service</code></li>
</ul>
<p>Next step is to install ssh client inside the container and run port forwarding.
In the snippet below instead of <code>user</code> and <code>ipaddress</code> provide username and
IP address of your host (usually IP address starts from <code>192.168.</code>). You will
need to confirm that you want to connect to your host computer and enter your
password. Keep the terminal open after that.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker <span style="color:#204a87">exec</span> -it nuclio-nuclio-pth-facebookresearch-detectron2-retinanet-r101 /bin/bash
</span></span><span style="display:flex;"><span>apt update <span style="color:#ce5c00;font-weight:bold">&amp;&amp;</span> apt install -y ssh
</span></span><span style="display:flex;"><span>ssh -R 5678:localhost:5678 user@ipaddress
</span></span></code></pre></div><p>See how the latest command looks like in my case:</p>
<pre tabindex="0"><code>root@2d6cceec8f70:/opt/nuclio# ssh -R 5678:localhost:5678 nmanovic@192.168.50.188
The authenticity of host &#39;192.168.50.188 (192.168.50.188)&#39; can&#39;t be established.
ECDSA key fingerprint is SHA256:0sD6IWi+FKAhtUXr2TroHqyjcnYRIGLLx/wkGaZeRuo.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added &#39;192.168.50.188&#39; (ECDSA) to the list of known hosts.
nmanovic@192.168.50.188&#39;s password:
Welcome to Ubuntu 20.04.2 LTS (GNU/Linux 5.8.0-53-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

223 updates can be applied immediately.
132 of these updates are standard security updates.
To see these additional updates run: apt list --upgradable

Your Hardware Enablement Stack (HWE) is supported until April 2025.
Last login: Fri Jun 25 16:39:04 2021 from 172.17.0.5
[setupvars.sh] OpenVINO environment initialized
nmanovic@nmanovic-dl-node:~$
</code></pre><p>Finally, add the configuration below into your launch.json. Open Visual Studio Code and
run <code>Serverless Debug</code> configuration, set a breakpoint in <code>main.py</code> and try to call the
serverless function from CVAT UI. The breakpoint should be triggered in Visual Studio
Code and it should be possible to inspect variables and debug code.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;Serverless Debug&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;type&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;python&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;request&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;attach&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;connect&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;host&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;localhost&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;port&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">5678</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;pathMappings&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;localRoot&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;${workspaceFolder}/serverless/pytorch/facebookresearch/detectron2/retinanet/nuclio&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;remoteRoot&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;/opt/nuclio&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p><img src="/images/vscode_debug_retinanet.png" alt="VS Code debug RetinaNet"></p>
<p><em>Note: In case of changes in the source code, need to re-deploy the function and initiate
port forwarding again.</em></p>
<h3 id="troubleshooting">Troubleshooting</h3>
<p>First of all need to check that you are using the recommended version of
Nuclio framework. In my case it is <code>1.5.16</code> but you need to check
<a href="/v2.46.1/docs/administration/advanced/installation_automatic_annotation/">the installation manual</a>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nuctl version
</span></span></code></pre></div><pre tabindex="0"><code>Client version:
&#34;Label: 1.5.16, Git commit: ae43a6a560c2bec42d7ccfdf6e8e11a1e3cc3774, OS: linux, Arch: amd64, Go version: go1.14.3&#34;
</code></pre><p>Check that Nuclio dashboard is running and its version corresponds to <code>nuctl</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker ps --filter <span style="color:#000">NAME</span><span style="color:#ce5c00;font-weight:bold">=</span>^nuclio$
</span></span></code></pre></div><pre tabindex="0"><code>CONTAINER ID   IMAGE                                   COMMAND                  CREATED       STATUS                    PORTS                                               NAMES
7ab0c076c927   quay.io/nuclio/dashboard:1.5.16-amd64   &#34;/docker-entrypoint.…&#34;   6 weeks ago   Up 46 minutes (healthy)   80/tcp, 0.0.0.0:8070-&gt;8070/tcp, :::8070-&gt;8070/tcp   nuclio
</code></pre><p>Be sure that the model, which doesn&rsquo;t work, is healthy. In my case Inside Outside
Guidance is not running.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker ps --filter <span style="color:#000">NAME</span><span style="color:#ce5c00;font-weight:bold">=</span>iog
</span></span></code></pre></div><pre tabindex="0"><code>CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
</code></pre><p>Let&rsquo;s run it. Go to the root of CVAT repository and run the deploying command.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>serverless/deploy_cpu.sh serverless/pytorch/shiyinzhang/iog
</span></span></code></pre></div><details>
<pre tabindex="0"><code>Deploying serverless/pytorch/shiyinzhang/iog function...
21.07.06 12:49:08.763                     nuctl (I) Deploying function {&#34;name&#34;: &#34;&#34;}
21.07.06 12:49:08.763                     nuctl (I) Building {&#34;versionInfo&#34;: &#34;Label: 1.5.16, Git commit: ae43a6a560c2bec42d7ccfdf6e8e11a1e3cc3774, OS: linux, Arch: amd64, Go version: go1.14.3&#34;, &#34;name&#34;: &#34;&#34;}
21.07.06 12:49:09.085                     nuctl (I) Cleaning up before deployment {&#34;functionName&#34;: &#34;pth-shiyinzhang-iog&#34;}
21.07.06 12:49:09.162                     nuctl (I) Function already exists, deleting function containers {&#34;functionName&#34;: &#34;pth-shiyinzhang-iog&#34;}
21.07.06 12:49:09.230                     nuctl (I) Staging files and preparing base images
21.07.06 12:49:09.232                     nuctl (I) Building processor image {&#34;imageName&#34;: &#34;cvat/pth.shiyinzhang.iog:latest&#34;}
21.07.06 12:49:09.232     nuctl.platform.docker (I) Pulling image {&#34;imageName&#34;: &#34;quay.io/nuclio/handler-builder-python-onbuild:1.5.16-amd64&#34;}
21.07.06 12:49:12.525     nuctl.platform.docker (I) Pulling image {&#34;imageName&#34;: &#34;quay.io/nuclio/uhttpc:0.0.1-amd64&#34;}
21.07.06 12:49:16.222            nuctl.platform (I) Building docker image {&#34;image&#34;: &#34;cvat/pth.shiyinzhang.iog:latest&#34;}
21.07.06 12:49:16.555            nuctl.platform (I) Pushing docker image into registry {&#34;image&#34;: &#34;cvat/pth.shiyinzhang.iog:latest&#34;, &#34;registry&#34;: &#34;&#34;}
21.07.06 12:49:16.555            nuctl.platform (I) Docker image was successfully built and pushed into docker registry {&#34;image&#34;: &#34;cvat/pth.shiyinzhang.iog:latest&#34;}
21.07.06 12:49:16.555                     nuctl (I) Build complete {&#34;result&#34;: {&#34;Image&#34;:&#34;cvat/pth.shiyinzhang.iog:latest&#34;,&#34;UpdatedFunctionConfig&#34;:{&#34;metadata&#34;:{&#34;name&#34;:&#34;pth-shiyinzhang-iog&#34;,&#34;namespace&#34;:&#34;nuclio&#34;,&#34;labels&#34;:{&#34;nuclio.io/project-name&#34;:&#34;cvat&#34;},&#34;annotations&#34;:{&#34;framework&#34;:&#34;pytorch&#34;,&#34;min_pos_points&#34;:&#34;1&#34;,&#34;name&#34;:&#34;IOG&#34;,&#34;spec&#34;:&#34;&#34;,&#34;startswith_box&#34;:&#34;true&#34;,&#34;type&#34;:&#34;interactor&#34;}},&#34;spec&#34;:{&#34;description&#34;:&#34;Interactive Object Segmentation with Inside-Outside Guidance&#34;,&#34;handler&#34;:&#34;main:handler&#34;,&#34;runtime&#34;:&#34;python:3.6&#34;,&#34;env&#34;:[{&#34;name&#34;:&#34;PYTHONPATH&#34;,&#34;value&#34;:&#34;/opt/nuclio/iog&#34;}],&#34;resources&#34;:{},&#34;image&#34;:&#34;cvat/pth.shiyinzhang.iog:latest&#34;,&#34;targetCPU&#34;:75,&#34;triggers&#34;:{&#34;myHttpTrigger&#34;:{&#34;class&#34;:&#34;&#34;,&#34;kind&#34;:&#34;http&#34;,&#34;name&#34;:&#34;myHttpTrigger&#34;,&#34;maxWorkers&#34;:2,&#34;workerAvailabilityTimeoutMilliseconds&#34;:10000,&#34;attributes&#34;:{&#34;maxRequestBodySize&#34;:33554432}}},&#34;volumes&#34;:[{&#34;volume&#34;:{&#34;name&#34;:&#34;volume-1&#34;,&#34;hostPath&#34;:{&#34;path&#34;:&#34;/home/nmanovic/Workspace/cvat/serverless/common&#34;}},&#34;volumeMount&#34;:{&#34;name&#34;:&#34;volume-1&#34;,&#34;mountPath&#34;:&#34;/opt/nuclio/common&#34;}}],&#34;build&#34;:{&#34;image&#34;:&#34;cvat/pth.shiyinzhang.iog&#34;,&#34;baseImage&#34;:&#34;continuumio/miniconda3&#34;,&#34;directives&#34;:{&#34;preCopy&#34;:[{&#34;kind&#34;:&#34;WORKDIR&#34;,&#34;value&#34;:&#34;/opt/nuclio&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;conda create -y -n iog python=3.6&#34;},{&#34;kind&#34;:&#34;SHELL&#34;,&#34;value&#34;:&#34;[\&#34;conda\&#34;, \&#34;run\&#34;, \&#34;-n\&#34;, \&#34;iog\&#34;, \&#34;/bin/bash\&#34;, \&#34;-c\&#34;]&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;conda install -y -c anaconda curl&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;conda install -y pytorch=0.4 torchvision=0.2 -c pytorch&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;conda install -y -c conda-forge pycocotools opencv scipy&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;git clone https://github.com/shiyinzhang/Inside-Outside-Guidance.git iog&#34;},{&#34;kind&#34;:&#34;WORKDIR&#34;,&#34;value&#34;:&#34;/opt/nuclio/iog&#34;},{&#34;kind&#34;:&#34;ENV&#34;,&#34;value&#34;:&#34;fileid=1Lm1hhMhhjjnNwO4Pf7SC6tXLayH2iH0l&#34;},{&#34;kind&#34;:&#34;ENV&#34;,&#34;value&#34;:&#34;filename=IOG_PASCAL_SBD.pth&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;curl -c ./cookie -s -L \&#34;https://drive.google.com/uc?export=download\u0026id=${fileid}\&#34;&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;echo \&#34;/download/ {print \\$NF}\&#34; \u003e confirm_code.awk&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;curl -Lb ./cookie \&#34;https://drive.google.com/uc?export=download\u0026confirm=`awk -f confirm_code.awk ./cookie`\u0026id=${fileid}\&#34; -o ${filename}&#34;},{&#34;kind&#34;:&#34;WORKDIR&#34;,&#34;value&#34;:&#34;/opt/nuclio&#34;},{&#34;kind&#34;:&#34;ENTRYPOINT&#34;,&#34;value&#34;:&#34;[\&#34;conda\&#34;, \&#34;run\&#34;, \&#34;-n\&#34;, \&#34;iog\&#34;]&#34;}]},&#34;codeEntryType&#34;:&#34;image&#34;},&#34;platform&#34;:{&#34;attributes&#34;:{&#34;mountMode&#34;:&#34;volume&#34;,&#34;restartPolicy&#34;:{&#34;maximumRetryCount&#34;:3,&#34;name&#34;:&#34;always&#34;}}},&#34;readinessTimeoutSeconds&#34;:60,&#34;securityContext&#34;:{},&#34;eventTimeout&#34;:&#34;30s&#34;}}}}
21.07.06 12:49:17.422     nuctl.platform.docker (W) Failed to run container {&#34;err&#34;: &#34;stdout:\n1373cb432a178a3606685b5975e40a0755bc7958786c182304f5d1bbc0873ceb\ndocker: Error response from daemon: driver failed programming external connectivity on endpoint nuclio-nuclio-pth-shiyinzhang-iog (df68e7b4a60e553ee3079f1f1622b050cc958bd50f2cd359a20164d8a417d0ea): Bind for 0.0.0.0:49154 failed: port is already allocated.\n\nstderr:\n&#34;, &#34;errVerbose&#34;: &#34;\nError - exit status 125\n    /nuclio/pkg/cmdrunner/shellrunner.go:96\n\nCall stack:\nstdout:\n1373cb432a178a3606685b5975e40a0755bc7958786c182304f5d1bbc0873ceb\ndocker: Error response from daemon: driver failed programming external connectivity on endpoint nuclio-nuclio-pth-shiyinzhang-iog (df68e7b4a60e553ee3079f1f1622b050cc958bd50f2cd359a20164d8a417d0ea): Bind for 0.0.0.0:49154 failed: port is already allocated.\n\nstderr:\n\n    /nuclio/pkg/cmdrunner/shellrunner.go:96\nstdout:\n1373cb432a178a3606685b5975e40a0755bc7958786c182304f5d1bbc0873ceb\ndocker: Error response from daemon: driver failed programming external connectivity on endpoint nuclio-nuclio-pth-shiyinzhang-iog (df68e7b4a60e553ee3079f1f1622b050cc958bd50f2cd359a20164d8a417d0ea): Bind for 0.0.0.0:49154 failed: port is already allocated.\n\nstderr:\n&#34;, &#34;errCauses&#34;: [{&#34;error&#34;: &#34;exit status 125&#34;}], &#34;stdout&#34;: &#34;1373cb432a178a3606685b5975e40a0755bc7958786c182304f5d1bbc0873ceb\ndocker: Error response from daemon: driver failed programming external connectivity on endpoint nuclio-nuclio-pth-shiyinzhang-iog (df68e7b4a60e553ee3079f1f1622b050cc958bd50f2cd359a20164d8a417d0ea): Bind for 0.0.0.0:49154 failed: port is already allocated.\n&#34;, &#34;stderr&#34;: &#34;&#34;}
21.07.06 12:49:17.422                     nuctl (W) Failed to create a function; setting the function status {&#34;err&#34;: &#34;Failed to run a Docker container&#34;, &#34;errVerbose&#34;: &#34;\nError - exit status 125\n    /nuclio/pkg/cmdrunner/shellrunner.go:96\n\nCall stack:\nstdout:\n1373cb432a178a3606685b5975e40a0755bc7958786c182304f5d1bbc0873ceb\ndocker: Error response from daemon: driver failed programming external connectivity on endpoint nuclio-nuclio-pth-shiyinzhang-iog (df68e7b4a60e553ee3079f1f1622b050cc958bd50f2cd359a20164d8a417d0ea): Bind for 0.0.0.0:49154 failed: port is already allocated.\n\nstderr:\n\n    /nuclio/pkg/cmdrunner/shellrunner.go:96\nFailed to run a Docker container\n    /nuclio/pkg/platform/local/platform.go:653\nFailed to run a Docker container&#34;, &#34;errCauses&#34;: [{&#34;error&#34;: &#34;stdout:\n1373cb432a178a3606685b5975e40a0755bc7958786c182304f5d1bbc0873ceb\ndocker: Error response from daemon: driver failed programming external connectivity on endpoint nuclio-nuclio-pth-shiyinzhang-iog (df68e7b4a60e553ee3079f1f1622b050cc958bd50f2cd359a20164d8a417d0ea): Bind for 0.0.0.0:49154 failed: port is already allocated.\n\nstderr:\n&#34;, &#34;errorVerbose&#34;: &#34;\nError - exit status 125\n    /nuclio/pkg/cmdrunner/shellrunner.go:96\n\nCall stack:\nstdout:\n1373cb432a178a3606685b5975e40a0755bc7958786c182304f5d1bbc0873ceb\ndocker: Error response from daemon: driver failed programming external connectivity on endpoint nuclio-nuclio-pth-shiyinzhang-iog (df68e7b4a60e553ee3079f1f1622b050cc958bd50f2cd359a20164d8a417d0ea): Bind for 0.0.0.0:49154 failed: port is already allocated.\n\nstderr:\n\n    /nuclio/pkg/cmdrunner/shellrunner.go:96\nstdout:\n1373cb432a178a3606685b5975e40a0755bc7958786c182304f5d1bbc0873ceb\ndocker: Error response from daemon: driver failed programming external connectivity on endpoint nuclio-nuclio-pth-shiyinzhang-iog (df68e7b4a60e553ee3079f1f1622b050cc958bd50f2cd359a20164d8a417d0ea): Bind for 0.0.0.0:49154 failed: port is already allocated.\n\nstderr:\n&#34;, &#34;errorCauses&#34;: [{&#34;error&#34;: &#34;exit status 125&#34;}]}]}

Error - exit status 125
    /nuclio/pkg/cmdrunner/shellrunner.go:96

Call stack:
stdout:
1373cb432a178a3606685b5975e40a0755bc7958786c182304f5d1bbc0873ceb
docker: Error response from daemon: driver failed programming external connectivity on endpoint nuclio-nuclio-pth-shiyinzhang-iog (df68e7b4a60e553ee3079f1f1622b050cc958bd50f2cd359a20164d8a417d0ea): Bind for 0.0.0.0:49154 failed: port is already allocated.

stderr:

    /nuclio/pkg/cmdrunner/shellrunner.go:96
Failed to run a Docker container
    /nuclio/pkg/platform/local/platform.go:653
Failed to deploy function
    ...//nuclio/pkg/platform/abstract/platform.go:182
  NAMESPACE |                      NAME                      | PROJECT | STATE | NODE PORT | REPLICAS
  nuclio    | openvino-dextr                                 | cvat    | ready |     49154 | 1/1
  nuclio    | pth-foolwood-siammask                          | cvat    | ready |     49155 | 1/1
  nuclio    | pth-facebookresearch-detectron2-retinanet-r101 | cvat    | ready |     49155 | 1/1
  nuclio    | pth-shiyinzhang-iog                            | cvat    | error |         0 | 1/1
</code></pre></details>
<p>In this case the container was built some time ago and the port 49154 was
assigned by Nuclio. Now the port is used by <code>openvino-dextr</code> as we can
see in logs. To prove our hypothesis just need to run a couple of docker
commands:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker container ls -a <span style="color:#000;font-weight:bold">|</span> grep iog
</span></span></code></pre></div><pre tabindex="0"><code>eb0c1ee46630   cvat/pth.shiyinzhang.iog:latest                              &#34;conda run -n iog pr…&#34;   9 minutes ago       Created                                                                          nuclio-nuclio-pth-shiyinzhang-iog
</code></pre><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker inspect eb0c1ee46630 <span style="color:#000;font-weight:bold">|</span> grep <span style="color:#0000cf;font-weight:bold">49154</span>
</span></span></code></pre></div><pre tabindex="0"><code>            &#34;Error&#34;: &#34;driver failed programming external connectivity on endpoint nuclio-nuclio-pth-shiyinzhang-iog (02384290f91b2216162b1603322dadee426afe7f439d3d090f598af5d4863b2d): Bind for 0.0.0.0:49154 failed: port is already allocated&#34;,
                        &#34;HostPort&#34;: &#34;49154&#34;
</code></pre><p>To solve the problem let&rsquo;s just remove the previous container for the function.
In this case it is <code>eb0c1ee46630</code>. After that the deploying command works as
expected.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker container rm eb0c1ee46630
</span></span></code></pre></div><pre tabindex="0"><code>eb0c1ee46630
</code></pre><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>serverless/deploy_cpu.sh serverless/pytorch/shiyinzhang/iog
</span></span></code></pre></div><details>
<pre tabindex="0"><code>Deploying serverless/pytorch/shiyinzhang/iog function...
21.07.06 13:09:52.934                     nuctl (I) Deploying function {&#34;name&#34;: &#34;&#34;}
21.07.06 13:09:52.934                     nuctl (I) Building {&#34;versionInfo&#34;: &#34;Label: 1.5.16, Git commit: ae43a6a560c2bec42d7ccfdf6e8e11a1e3cc3774, OS: linux, Arch: amd64, Go version: go1.14.3&#34;, &#34;name&#34;: &#34;&#34;}
21.07.06 13:09:53.282                     nuctl (I) Cleaning up before deployment {&#34;functionName&#34;: &#34;pth-shiyinzhang-iog&#34;}
21.07.06 13:09:53.341                     nuctl (I) Staging files and preparing base images
21.07.06 13:09:53.342                     nuctl (I) Building processor image {&#34;imageName&#34;: &#34;cvat/pth.shiyinzhang.iog:latest&#34;}
21.07.06 13:09:53.342     nuctl.platform.docker (I) Pulling image {&#34;imageName&#34;: &#34;quay.io/nuclio/handler-builder-python-onbuild:1.5.16-amd64&#34;}
21.07.06 13:09:56.633     nuctl.platform.docker (I) Pulling image {&#34;imageName&#34;: &#34;quay.io/nuclio/uhttpc:0.0.1-amd64&#34;}
21.07.06 13:10:00.163            nuctl.platform (I) Building docker image {&#34;image&#34;: &#34;cvat/pth.shiyinzhang.iog:latest&#34;}
21.07.06 13:10:00.452            nuctl.platform (I) Pushing docker image into registry {&#34;image&#34;: &#34;cvat/pth.shiyinzhang.iog:latest&#34;, &#34;registry&#34;: &#34;&#34;}
21.07.06 13:10:00.452            nuctl.platform (I) Docker image was successfully built and pushed into docker registry {&#34;image&#34;: &#34;cvat/pth.shiyinzhang.iog:latest&#34;}
21.07.06 13:10:00.452                     nuctl (I) Build complete {&#34;result&#34;: {&#34;Image&#34;:&#34;cvat/pth.shiyinzhang.iog:latest&#34;,&#34;UpdatedFunctionConfig&#34;:{&#34;metadata&#34;:{&#34;name&#34;:&#34;pth-shiyinzhang-iog&#34;,&#34;namespace&#34;:&#34;nuclio&#34;,&#34;labels&#34;:{&#34;nuclio.io/project-name&#34;:&#34;cvat&#34;},&#34;annotations&#34;:{&#34;framework&#34;:&#34;pytorch&#34;,&#34;min_pos_points&#34;:&#34;1&#34;,&#34;name&#34;:&#34;IOG&#34;,&#34;spec&#34;:&#34;&#34;,&#34;startswith_box&#34;:&#34;true&#34;,&#34;type&#34;:&#34;interactor&#34;}},&#34;spec&#34;:{&#34;description&#34;:&#34;Interactive Object Segmentation with Inside-Outside Guidance&#34;,&#34;handler&#34;:&#34;main:handler&#34;,&#34;runtime&#34;:&#34;python:3.6&#34;,&#34;env&#34;:[{&#34;name&#34;:&#34;PYTHONPATH&#34;,&#34;value&#34;:&#34;/opt/nuclio/iog&#34;}],&#34;resources&#34;:{},&#34;image&#34;:&#34;cvat/pth.shiyinzhang.iog:latest&#34;,&#34;targetCPU&#34;:75,&#34;triggers&#34;:{&#34;myHttpTrigger&#34;:{&#34;class&#34;:&#34;&#34;,&#34;kind&#34;:&#34;http&#34;,&#34;name&#34;:&#34;myHttpTrigger&#34;,&#34;maxWorkers&#34;:2,&#34;workerAvailabilityTimeoutMilliseconds&#34;:10000,&#34;attributes&#34;:{&#34;maxRequestBodySize&#34;:33554432}}},&#34;volumes&#34;:[{&#34;volume&#34;:{&#34;name&#34;:&#34;volume-1&#34;,&#34;hostPath&#34;:{&#34;path&#34;:&#34;/home/nmanovic/Workspace/cvat/serverless/common&#34;}},&#34;volumeMount&#34;:{&#34;name&#34;:&#34;volume-1&#34;,&#34;mountPath&#34;:&#34;/opt/nuclio/common&#34;}}],&#34;build&#34;:{&#34;image&#34;:&#34;cvat/pth.shiyinzhang.iog&#34;,&#34;baseImage&#34;:&#34;continuumio/miniconda3&#34;,&#34;directives&#34;:{&#34;preCopy&#34;:[{&#34;kind&#34;:&#34;WORKDIR&#34;,&#34;value&#34;:&#34;/opt/nuclio&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;conda create -y -n iog python=3.6&#34;},{&#34;kind&#34;:&#34;SHELL&#34;,&#34;value&#34;:&#34;[\&#34;conda\&#34;, \&#34;run\&#34;, \&#34;-n\&#34;, \&#34;iog\&#34;, \&#34;/bin/bash\&#34;, \&#34;-c\&#34;]&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;conda install -y -c anaconda curl&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;conda install -y pytorch=0.4 torchvision=0.2 -c pytorch&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;conda install -y -c conda-forge pycocotools opencv scipy&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;git clone https://github.com/shiyinzhang/Inside-Outside-Guidance.git iog&#34;},{&#34;kind&#34;:&#34;WORKDIR&#34;,&#34;value&#34;:&#34;/opt/nuclio/iog&#34;},{&#34;kind&#34;:&#34;ENV&#34;,&#34;value&#34;:&#34;fileid=1Lm1hhMhhjjnNwO4Pf7SC6tXLayH2iH0l&#34;},{&#34;kind&#34;:&#34;ENV&#34;,&#34;value&#34;:&#34;filename=IOG_PASCAL_SBD.pth&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;curl -c ./cookie -s -L \&#34;https://drive.google.com/uc?export=download\u0026id=${fileid}\&#34;&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;echo \&#34;/download/ {print \\$NF}\&#34; \u003e confirm_code.awk&#34;},{&#34;kind&#34;:&#34;RUN&#34;,&#34;value&#34;:&#34;curl -Lb ./cookie \&#34;https://drive.google.com/uc?export=download\u0026confirm=`awk -f confirm_code.awk ./cookie`\u0026id=${fileid}\&#34; -o ${filename}&#34;},{&#34;kind&#34;:&#34;WORKDIR&#34;,&#34;value&#34;:&#34;/opt/nuclio&#34;},{&#34;kind&#34;:&#34;ENTRYPOINT&#34;,&#34;value&#34;:&#34;[\&#34;conda\&#34;, \&#34;run\&#34;, \&#34;-n\&#34;, \&#34;iog\&#34;]&#34;}]},&#34;codeEntryType&#34;:&#34;image&#34;},&#34;platform&#34;:{&#34;attributes&#34;:{&#34;mountMode&#34;:&#34;volume&#34;,&#34;restartPolicy&#34;:{&#34;maximumRetryCount&#34;:3,&#34;name&#34;:&#34;always&#34;}}},&#34;readinessTimeoutSeconds&#34;:60,&#34;securityContext&#34;:{},&#34;eventTimeout&#34;:&#34;30s&#34;}}}}
21.07.06 13:10:01.604            nuctl.platform (I) Waiting for function to be ready {&#34;timeout&#34;: 60}
21.07.06 13:10:02.976                     nuctl (I) Function deploy complete {&#34;functionName&#34;: &#34;pth-shiyinzhang-iog&#34;, &#34;httpPort&#34;: 49159}
  NAMESPACE |                      NAME                      | PROJECT | STATE | NODE PORT | REPLICAS
  nuclio    | openvino-dextr                                 | cvat    | ready |     49154 | 1/1
  nuclio    | pth-foolwood-siammask                          | cvat    | ready |     49155 | 1/1
  nuclio    | pth-facebookresearch-detectron2-retinanet-r101 | cvat    | ready |     49155 | 1/1
  nuclio    | pth-shiyinzhang-iog                            | cvat    | ready |     49159 | 1/1
</code></pre></details>
<p>When you investigate an issue with a serverless function, it is extremely
useful to look at logs. Just run a couple of commands like
<code>docker logs &lt;container&gt;</code>.</p>
<details>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker logs cvat
</span></span></code></pre></div><pre tabindex="0"><code>2021-07-06 13:44:54,699 DEBG &#39;runserver&#39; stderr output:
[Tue Jul 06 13:44:54.699431 2021] [wsgi:error] [pid 625:tid 140010969868032] [remote 172.28.0.3:40972] [2021-07-06 13:44:54,699] ERROR django.request: Internal Server Error: /api/lambda/functions/pth-shiyinzhang-iog

2021-07-06 13:44:54,700 DEBG &#39;runserver&#39; stderr output:
[Tue Jul 06 13:44:54.699712 2021] [wsgi:error] [pid 625:tid 140010969868032] [remote 172.28.0.3:40972] ERROR - 2021-07-06 13:44:54,699 - log - Internal Server Error: /api/lambda/functions/pth-shiyinzhang-iog
</code></pre><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker container ls --filter <span style="color:#000">name</span><span style="color:#ce5c00;font-weight:bold">=</span>iog
</span></span></code></pre></div><pre tabindex="0"><code>CONTAINER ID   IMAGE                             COMMAND                  CREATED       STATUS                 PORTS                                         NAMES
3b6ef9a9f3e2   cvat/pth.shiyinzhang.iog:latest   &#34;conda run -n iog pr…&#34;   4 hours ago   Up 4 hours (healthy)   0.0.0.0:49159-&gt;8080/tcp, :::49159-&gt;8080/tcp   nuclio-nuclio-pth-shiyinzhang-iog
</code></pre><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker logs nuclio-nuclio-pth-shiyinzhang-iog
</span></span></code></pre></div></details>
<p>If before model deployment you see that the <code>NODE PORT</code> is 0, you need to assign it manually.
Add the <code>port: 32001</code> attribute to the <code>function.yaml</code> file of each model, before you deploy the model.
Different ports should be prescribed for different models.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-diff" data-lang="diff"><span style="display:flex;"><span>triggers:
</span></span><span style="display:flex;"><span>myHttpTrigger:
</span></span><span style="display:flex;"><span>    maxWorkers: 1
</span></span><span style="display:flex;"><span>    kind: &#39;http&#39;
</span></span><span style="display:flex;"><span>    workerAvailabilityTimeoutMilliseconds: 10000
</span></span><span style="display:flex;"><span>    attributes:
</span></span><span style="display:flex;"><span><span style="color:#00a000">+     port: 32001
</span></span></span><span style="display:flex;"><span><span style="color:#00a000"></span>      maxRequestBodySize: 33554432 # 32MB
</span></span></code></pre></div><h3 id="installation-serverless-functions-on-windows-10-with-using-the-ubuntu-subsystem">Installation serverless functions on Windows 10 with using the Ubuntu subsystem</h3>
<p>If you encounter a problem running serverless functions on Windows 10,
you can use the Ubuntu subsystem, for this do the following:</p>
<ol>
<li>
<p>Install  <code>WSL 2</code> and <code>Docker Desktop</code> as described in
<a href="/v2.46.1/docs/administration/basics/installation/#windows-10">installation manual</a></p>
</li>
<li>
<p>Install <a href="https://www.microsoft.com/en-us/p/ubuntu-1804-lts/9n9tngvndl3q">Ubuntu 18.04 from Microsoft store</a>.</p>
</li>
<li>
<p>Enable integration for Ubuntu-18.04 in the settings of <code>Docker Desktop</code> in the <code>Resources</code> <code>WSL integration</code> tab:</p>
<p><img src="/images/docker_wsl_integration.jpg" alt="Docker WSL integration Ubuntu 18.04"></p>
</li>
<li>
<p>Then you can download and install <code>nuctl</code> on Ubuntu,
using the
<a href="/v2.46.1/docs/administration/advanced/installation_automatic_annotation/">automatic annotation guide</a>.</p>
</li>
<li>
<p>Install <code>git</code> and clone repository on Ubuntu,
as described in the
<a href="/v2.46.1/docs/administration/basics/installation/#ubuntu-1804-x86_64amd64">installation manual</a>.</p>
</li>
<li>
<p>After that, run the commands from this tutorial through Ubuntu.</p>
</li>
</ol>

	
</div>


          </main>
        </div>
      </div>
      <footer class="bg-dark py-5 row d-print-none" style="min-height: 0">
  <div class="container-fluid">
    <div class="row">
      <div class="col text-center">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-bs-toggle="tooltip" data-placement="top" title="Gitter public chat" aria-label="Gitter public chat">
    <a class="text-white" rel="noopener noreferrer" href="https://gitter.im/opencv-cvat/public">
      <i class="fab fa-gitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-bs-toggle="tooltip" data-placement="top" title="Stack Overflow" aria-label="Stack Overflow">
    <a class="text-white" rel="noopener noreferrer" href="https://stackoverflow.com/search?q=%23cvat">
      <i class="fab fa-stack-overflow"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-bs-toggle="tooltip" data-placement="top" title="YouTube" aria-label="YouTube">
    <a class="text-white" rel="noopener noreferrer" href="https://www.youtube.com/@cvat-ai">
      <i class="fab fa-youtube"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-4 text-center">
        <div class="row">
          <a href="https://www.cvat.ai/privacy">Privacy Policy</a>
        </div>
        <div class="row">
          <a href="https://www.cvat.ai/terms-of-use">Terms of Use</a>
        </div>
        <div class="row">
          <a href="#" onclick="showCookieSettings(); return false;">Cookie Settings</a>
        </div>
        <div class="row">
          
        </div>
      </div>
      <div class="col text-right text-center">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-bs-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" rel="noopener noreferrer" href="https://github.com/cvat-ai/cvat">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-bs-toggle="tooltip" data-placement="top" title="Gitter developers chat" aria-label="Gitter developers chat">
    <a class="text-white" rel="noopener noreferrer" href="https://gitter.im/opencv-cvat/dev">
      <i class="fab fa-gitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-bs-toggle="tooltip" data-placement="top" title="Discord chat" aria-label="Discord chat">
    <a class="text-white" rel="noopener noreferrer" href="https://discord.gg/fNR3eXfk6C">
      <i class="fab fa-discord"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
    </div>
  </div>
  


<div id="cookie-consent-banner">
  <p>
    We use Google Analytics cookies to improve functionality and analyze traffic. You can change your preference at any time using the "Cookie Settings" link in the footer.
  </p>
  <div class="button-group">
    <button onclick="acceptCookies()">Accept</button>
    <button class="reject" onclick="rejectCookies()">Reject</button>
  </div>
</div>


<script>
window.GOOGLE_TAG_ID = 'G-GVSBK1DNK5';
</script>


<script defer src="/v2.46.1/js/cookie-consent.min.93cb75ea0d8a602f1db231ed823839f4fc4c6fbfe6d98e78c702dbdf32e8ce95.js" integrity="sha256-k8t16g2KYC8dsjHtgjg59PxMb7/m2Y54xwLb3zLozpU=" crossorigin="anonymous"></script>

</footer>



    </div>
    
  <script src="/v2.46.1/js/main.min.99abe30f7fb05785a480d405ee1665ebd520cec6bbadffe966b7737e103675b8.js" integrity="sha256-mavjD3&#43;wV4WkgNQF7hZl69Ugzsa7rf/pZrdzfhA2dbg=" crossorigin="anonymous"></script>
<script src='/v2.46.1/js/prism.js'></script>
<script src='/v2.46.1/js/tabpane-persist.js'></script>

  </body>
</html>